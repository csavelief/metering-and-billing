!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("@blueprintjs/core"),require("classnames"),require("react"),require("react-dom"),require("ciblage-commercial/src/js/blueprintjs/tslib")):"function"==typeof define&&define.amd?define(["@blueprintjs/core","classnames","react","react-dom","ciblage-commercial/src/js/blueprintjs/tslib"],t):"object"==typeof exports?exports.Blueprint=t(require("@blueprintjs/core"),require("classnames"),require("react"),require("react-dom"),require("ciblage-commercial/src/js/blueprintjs/tslib")):(e.Blueprint=e.Blueprint||{},e.Blueprint.Table=t(e.Blueprint.Core,e.classNames,e.React,e.ReactDOM,e.window))}(self,(function(e,t,n,o,r){return function(){var l={730:function(e,t,n){"use strict";var o=n(17);function r(){}function l(){}l.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,l,i){if(i!==o){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:l,resetWarningCache:r};return n.PropTypes=n,n}},641:function(e,t,n){e.exports=n(730)()},17:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},820:function(e){"use strict";var t=function(e,t){return e+n(t)},n=function(e){return null===e||"boolean"==typeof e||void 0===e?"":"number"==typeof e?e.toString():"string"==typeof e?e:Array.isArray(e)?e.reduce(t,""):function(e){return Object.prototype.hasOwnProperty.call(e,"props")}(e)&&Object.prototype.hasOwnProperty.call(e.props,"children")?n(e.props.children):""};n.default=n,e.exports=n},762:function(t){"use strict";t.exports=e},905:function(e){"use strict";e.exports=t},359:function(e){"use strict";e.exports=n},318:function(e){"use strict";e.exports=o},532:function(e){"use strict";e.exports=r}},i={};function a(e){var t=i[e];if(void 0!==t)return t.exports;var n=i[e]={exports:{}};return l[e](n,n.exports,a),n.exports}a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,{a:t}),t},a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var s={};return function(){"use strict";a.r(s),a.d(s,{AnyRect:function(){return t.AnyRect},Cell:function(){return _t},CellCoordinate:function(){return e.CellCoordinate},CellCoordinates:function(){return c.CellCoordinates},CellInterval:function(){return e.CellInterval},CellProps:function(){return r.CellProps},CellRenderer:function(){return r.CellRenderer},ClientCoordinates:function(){return h.ClientCoordinates},Clipboard:function(){return Pt},Column:function(){return Nt},ColumnHeaderCell:function(){return sn},ColumnHeaderRenderer:function(){return v.ColumnHeaderRenderer},ColumnLoadingOption:function(){return gt},ColumnProps:function(){return u.ColumnProps},ContextMenuRenderer:function(){return p.ContextMenuRenderer},CoordinateData:function(){return h.CoordinateData},CopyCellsMenuItem:function(){return Jt},DragHandler:function(){return h.DragHandler},DragSelectable:function(){return on},Draggable:function(){return Ot},EditableCell:function(){return At},EditableCell2:function(){return zt},EditableCell2Props:function(){return d.EditableCell2Props},EditableCellProps:function(){return i.EditableCellProps},EditableName:function(){return vn},EditableNameProps:function(){return y.EditableNameProps},FocusedCellCoordinates:function(){return c.FocusedCellCoordinates},Grid:function(){return Et},HorizontalCellDivider:function(){return an},ICellInterval:function(){return e.ICellInterval},ICellProps:function(){return r.ICellProps},ICellRenderer:function(){return r.ICellRenderer},IClientCoordinates:function(){return h.IClientCoordinates},IColumnHeaderCellProps:function(){return m.IColumnHeaderCellProps},IColumnHeaderRenderer:function(){return v.IColumnHeaderRenderer},IColumnProps:function(){return u.IColumnProps},IContextMenuRenderer:function(){return p.IContextMenuRenderer},ICoordinateData:function(){return h.ICoordinateData},IDragHandler:function(){return h.IDragHandler},IDragSelectableProps:function(){return g.IDragSelectableProps},IDraggableProps:function(){return l.IDraggableProps},IEditableCellProps:function(){return i.IEditableCellProps},IEditableNameProps:function(){return y.IEditableNameProps},IJSONFormatProps:function(){return o.IJSONFormatProps},ILockableLayout:function(){return f.ILockableLayout},IMenuContext:function(){return p.IMenuContext},IRegion:function(){return e.IRegion},IResizeHandleProps:function(){return f.IResizeHandleProps},IRowHeaderCellProps:function(){return C.IRowHeaderCellProps},ISelectableProps:function(){return g.ISelectableProps},IStyledRegionGroup:function(){return e.IStyledRegionGroup},ITableProps:function(){return w.ITableProps},ITruncatedFormatProps:function(){return n.ITruncatedFormatProps},JSONFormat:function(){return Tt},JSONFormatProps:function(){return o.JSONFormatProps},Orientation:function(){return kt},Rect:function(){return St},Region:function(){return e.Region},RegionCardinality:function(){return dt},Regions:function(){return Rt},RenderMode:function(){return Lt},ResizeHandle:function(){return $t},RowHeaderCell:function(){return fn},RowHeaderRenderer:function(){return R.RowHeaderRenderer},RowLoadingOption:function(){return mt},SelectionModes:function(){return Ct},StyledRegionGroup:function(){return e.StyledRegionGroup},Table:function(){return eo},Table2:function(){return ro},Table2Props:function(){return b.Table2Props},TableLoadingOption:function(){return vt},TableProps:function(){return w.TableProps},TruncatedFormat:function(){return It},TruncatedFormatProps:function(){return n.TruncatedFormatProps},TruncatedPopoverMode:function(){return bt},Utils:function(){return ft}});var e={};a.r(e),a.d(e,{H5:function(){return gt},_5:function(){return dt},gr:function(){return Rt},zp:function(){return mt},vf:function(){return Ct},wz:function(){return vt}});var t={};a.r(t),a.d(t,{U:function(){return St}});var n={};a.r(n),a.d(n,{P:function(){return It},l:function(){return bt}});var o={};a.r(o),a.d(o,{h:function(){return Tt}});var r={};a.r(r),a.d(r,{b:function(){return _t},p:function(){return xt}});var l={};a.r(l),a.d(l,{_:function(){return Ot}});var i={};a.r(i),a.d(i,{n:function(){return At}});var d={};a.r(d),a.d(d,{q:function(){return zt}});var u={};a.r(u),a.d(u,{s:function(){return Nt}});var c={};a.r(c);var h={};a.r(h);var p={};a.r(p);var f={};a.r(f),a.d(f,{i:function(){return kt},O:function(){return $t}});var g={};a.r(g),a.d(g,{O:function(){return on}});var m={};a.r(m),a.d(m,{N:function(){return sn},h:function(){return an}});var v={};a.r(v),a.d(v,{x:function(){return pn}});var C={};a.r(C),a.d(C,{x:function(){return fn}});var R={};a.r(R),a.d(R,{y:function(){return gn},_:function(){return mn}});var y={};a.r(y),a.d(y,{J:function(){return vn}});var w={};a.r(w);var b={};a.r(b),a.d(b,{L:function(){return ro}});var S=a(532),E=a(905),H=a.n(E),L=a(359),I=a(762),T=I.Classes.getClassNamespace(),x=("".concat(T,"-table-body"),"".concat(T,"-table-body-cells")),_=("".concat(T,"-table-body-scroll-client"),"".concat(T,"-table-body-virtual-client")),M="".concat(T,"-table-bottom-container"),F="".concat(T,"-table-cell"),D="".concat(T,"-table-cell-client"),O="".concat(T,"-table-cell-ghost"),A="".concat(T,"-table-cell-interactive"),z="".concat(T,"-table-cell-ledger-even"),N="".concat(T,"-table-cell-ledger-odd"),P="".concat(T,"-table-column-header-tr"),k="".concat(T,"-table-column-headers"),U="".concat(T,"-table-column-header-cell"),W="".concat(T,"-table-column-name"),G="".concat(T,"-table-column-name-text"),V="".concat(T,"-table-container"),B="".concat(T,"-table-dragging"),q="".concat(T,"-table-editable-name"),K="".concat(T,"-table-editable-text"),Q="".concat(T,"-table-cell-text-placeholder"),j="".concat(T,"-table-focus-region"),Y="".concat(T,"-table-has-interaction-bar"),X="".concat(T,"-table-has-reorder-handle"),Z="".concat(T,"-table-header"),J="".concat(T,"-table-header-active"),$="".concat(T,"-table-header-content"),ee="".concat(T,"-table-header-reorderable"),te="".concat(T,"-table-header-selected"),ne="".concat(T,"-table-horizontal-cell-divider"),oe="".concat(T,"-table-horizontal-guide"),re="".concat(T,"-table-interaction-bar"),le="".concat(T,"-table-last-in-column"),ie="".concat(T,"-table-last-in-row"),ae="".concat(T,"-table-menu"),se="".concat(T,"-table-no-horizontal-scroll"),de=("".concat(T,"-table-no-layout"),"".concat(T,"-table-no-rows")),ue="".concat(T,"-table-no-vertical-scroll"),ce="".concat(T,"-table-no-wrap-text"),he="".concat(T,"-table-null"),pe="".concat(T,"-table-overlay"),fe="".concat(T,"-table-overlay-layer"),ge="".concat(T,"-table-reordering-cursor-overlay"),me="".concat(T,"-table-popover-whitespace-normal"),ve="".concat(T,"-table-popover-whitespace-pre"),Ce="".concat(T,"-table-quadrant"),Re="".concat(T,"-table-quadrant-body-container"),ye="".concat(T,"-table-quadrant-left"),we="".concat(T,"-table-quadrant-main"),be="".concat(T,"-table-quadrant-scroll-container"),Se="".concat(T,"-table-quadrant-stack"),Ee="".concat(T,"-table-quadrant-top"),He="".concat(T,"-table-quadrant-top-left"),Le="".concat(T,"-table-region"),Ie="".concat(T,"-table-reorder-handle"),Te="".concat(T,"-table-reorder-handle-target"),xe="".concat(T,"-table-reordering"),_e="".concat(T,"-table-resize-guides"),Me="".concat(T,"-table-resize-handle"),Fe="".concat(T,"-table-resize-handle-target"),De="".concat(T,"-table-resize-horizontal"),Oe="".concat(T,"-table-resize-sensor"),Ae="".concat(T,"-table-resize-sensor-expand"),ze="".concat(T,"-table-resize-sensor-shrink"),Ne="".concat(T,"-table-resize-vertical"),Pe=("".concat(T,"-table-rounded-layout"),"".concat(T,"-table-row-headers")),ke="".concat(T,"-table-row-headers-cells-container"),Ue="".concat(T,"-table-row-name"),We="".concat(T,"-table-row-name-text"),Ge="".concat(T,"-table-selection-enabled"),Ve="".concat(T,"-table-selection-region"),Be="".concat(T,"-table-th-menu"),qe="".concat(T,"-table-th-menu-container"),Ke="".concat(T,"-table-th-menu-container-background"),Qe="".concat(T,"-table-th-menu-open"),je="".concat(T,"-table-thead"),Ye="".concat(T,"-table-top-container"),Xe="".concat(T,"-table-truncated-cell"),Ze="".concat(T,"-table-truncated-format"),Je="".concat(T,"-table-truncated-format-text"),$e="".concat(T,"-table-truncated-popover"),et="".concat(T,"-table-truncated-popover-target"),tt="".concat(T,"-table-truncated-text"),nt="".concat(T,"-table-truncated-value"),ot="".concat(T,"-table-vertical-guide");function rt(e,t){return"number"==typeof t?"".concat(e).concat(t):0===t.indexOf(e)?t:"".concat(e).concat(t)}function lt(e){return rt("".concat(T,"-table-col-"),e)}function it(e){return rt("".concat(T,"-table-row-"),e)}function at(e){return rt("".concat(T,"-table-cell-col-"),e)}function st(e){return rt("".concat(T,"-table-cell-row-"),e)}var dt,ut=function(e){function t(t){var n=e.call(this,t)||this;return n.style=n.calculateStyle(t.variableLength),n}return(0,S.__extends)(t,e),t.prototype.componentDidUpdate=function(e){(!e.loading&&this.props.loading||e.variableLength!==this.props.variableLength)&&(this.style=this.calculateStyle(this.props.variableLength))},t.prototype.render=function(){return this.props.loading?L.createElement("div",{className:I.Classes.SKELETON,style:this.style}):L.Children.only(this.props.children)},t.prototype.calculateStyle=function(e){void 0===e&&(e=!1);var t=e?75-5*Math.floor(11*Math.random()):100;return{width:"".concat(t,"%")}},t}(L.PureComponent),ct="bp-table-text-no-measure",ht=I.IconSize.STANDARD,pt=["font-style","font-variant","font-weight","font-size","font-family"],ft={times:function(e,t){if(e<0)throw new Error("[Blueprint] times() cannot be called with negative numbers.");for(var n=Array(e),o=0;o<e;o++)n[o]=t(o);return n},accumulate:function(e){for(var t=[],n=0,o=0,r=e;o<r.length;o++)n+=r[o],t.push(n);return t},toBase26Alpha:function(e){for(var t="";;){var n=e%26;if(t=String.fromCharCode(65+n)+t,(e-=n)<=0)return t;e=e/26-1}},toBase26CellName:function(e,t){return"".concat(ft.toBase26Alpha(t)).concat(e+1)},binarySearch:function(e,t,n){for(var o=0;o<t;){var r=Math.floor((o+t)/2);n(r)<e?o=r+1:t=r}return t},arrayOfLength:function(e,t,n){if(e.length>t)return e.slice(0,t);for(e=e.slice();e.length<t;)e.push(n);return e},assignSparseValues:function(e,t){if(null==t||e.length!==t.length)return e;e=e.slice();for(var n=0;n<e.length;n++){var o=t[n];null!=o&&(e[n]=o)}return e},measureElementTextContent:function(e){var t=document.createElement("canvas").getContext("2d"),n=getComputedStyle(e,null);return t.font=pt.map((function(e){return n.getPropertyValue(e)})).join(" "),function(e,t){var n,o=t.querySelectorAll(".".concat(ct)),r=0;o&&o.length&&o.forEach((function(t){var n,o=e.measureText(null!==(n=t.textContent)&&void 0!==n?n:"");r+=o.width-ht}));var l=e.measureText(null!==(n=t.textContent)&&void 0!==n?n:"");return(0,S.__assign)((0,S.__assign)({},l),{width:l.width-r})}(t,e)},clamp:function(e,t,n){return null!=t&&e<t&&(e=t),null!=n&&e>n&&(e=n),e},guideIndexToReorderedIndex:function(e,t,n){return t<e?t:e<=t&&t<e+n?e:Math.max(0,t-n)},reorderedIndexToGuideIndex:function(e,t,n){return t<=e?t:t+n},reorderArray:function(e,t,n,o){if(void 0===o&&(o=1),0===o||o===e.length||t===n)return e.slice();if(!(o<0||o>e.length||t+o>e.length)){for(var r=e.slice(0,t),l=e.slice(t,t+o),i=e.slice(t+o),a=[],s=0,d=0,u=0,c=0;s<n;)d<r.length?(a.push(r[d]),d+=1):(a.push(i[c]),c+=1),s+=1;for(;u<o;)a.push(l[u]),u+=1,s+=1;for(;s<e.length;)d<r.length?(a.push(r[d]),d+=1):(a.push(i[c]),c+=1),s+=1;return a}},isLeftClick:function(e){return 0===e.button},getApproxCellHeight:function(e,t,n,o,r,l){var i=null==e?0:e.length,a=(t-r)/n;return(Math.ceil(i/a)+l)*o},compareSparseArrays:function(e,t){return void 0!==e&&void 0!==t&&e.length===t.length&&e.every((function(e,n){return e===t[n]}))}};!function(e){e.CELLS="cells",e.FULL_ROWS="full-rows",e.FULL_COLUMNS="full-columns",e.FULL_TABLE="full-table"}(dt||(dt={}));var gt,mt,vt,Ct={ALL:[dt.FULL_TABLE,dt.FULL_COLUMNS,dt.FULL_ROWS,dt.CELLS],COLUMNS_AND_CELLS:[dt.FULL_COLUMNS,dt.CELLS],COLUMNS_ONLY:[dt.FULL_COLUMNS],NONE:[],ROWS_AND_CELLS:[dt.FULL_ROWS,dt.CELLS],ROWS_ONLY:[dt.FULL_ROWS]};!function(e){e.CELLS="cells",e.HEADER="column-header"}(gt||(gt={})),function(e){e.CELLS="cells",e.HEADER="row-header"}(mt||(mt={})),function(e){e.CELLS="cells",e.COLUMN_HEADERS="column-header",e.ROW_HEADERS="row-header"}(vt||(vt={}));var Rt=function(){function e(){}return e.getRegionCardinality=function(e){return null!=e.cols&&null!=e.rows?dt.CELLS:null!=e.cols?dt.FULL_COLUMNS:null!=e.rows?dt.FULL_ROWS:dt.FULL_TABLE},e.getFocusCellCoordinatesFromRegion=function(t){switch(e.getRegionCardinality(t)){case dt.FULL_TABLE:return{col:0,row:0};case dt.FULL_COLUMNS:return{col:t.cols[0],row:0};case dt.FULL_ROWS:return{col:0,row:t.rows[0]};case dt.CELLS:return{col:t.cols[0],row:t.rows[0]}}},e.copy=function(t){var n=e.getRegionCardinality(t);return n===dt.CELLS?e.cell(t.rows[0],t.cols[0],t.rows[1],t.cols[1]):n===dt.FULL_COLUMNS?e.column(t.cols[0],t.cols[1]):n===dt.FULL_ROWS?e.row(t.rows[0],t.rows[1]):e.table()},e.cell=function(e,t,n,o){return{cols:this.normalizeInterval(t,o),rows:this.normalizeInterval(e,n)}},e.row=function(e,t){return{rows:this.normalizeInterval(e,t)}},e.column=function(e,t){return{cols:this.normalizeInterval(e,t)}},e.table=function(){return{}},e.add=function(e,t){var n=e.slice();return n.push(t),n},e.update=function(e,t,n){var o=e.slice();return null!=n?o.splice(n,1,t):(o.pop(),o.push(t)),o},e.clampRegion=function(t,n,o){var r=e.copy(t);return null!=t.rows&&(r.rows[0]=ft.clamp(t.rows[0],0,n),r.rows[1]=ft.clamp(t.rows[1],0,n)),null!=t.cols&&(r.cols[0]=ft.clamp(t.cols[0],0,o),r.cols[1]=ft.clamp(t.cols[1],0,o)),r},e.lastRegionIsEqual=function(t,n){if(null==t||0===t.length)return!1;var o=t[t.length-1];return e.regionsEqual(o,n)},e.findMatchingRegion=function(t,n){if(null==t)return-1;for(var o=0;o<t.length;o++)if(e.regionsEqual(t[o],n))return o;return-1},e.findContainingRegion=function(t,n){if(null==t)return-1;for(var o=0;o<t.length;o++)if(e.regionContains(t[o],n))return o;return-1},e.hasFullColumn=function(t,n){if(null==t)return!1;for(var o=0,r=t;o<r.length;o++){var l=r[o],i=e.getRegionCardinality(l);if(i===dt.FULL_TABLE)return!0;if(i===dt.FULL_COLUMNS&&e.intervalContainsIndex(l.cols,n))return!0}return!1},e.hasFullRow=function(t,n){if(null==t)return!1;for(var o=0,r=t;o<r.length;o++){var l=r[o],i=e.getRegionCardinality(l);if(i===dt.FULL_TABLE)return!0;if(i===dt.FULL_ROWS&&e.intervalContainsIndex(l.rows,n))return!0}return!1},e.hasFullTable=function(t){if(null==t)return!1;for(var n=0,o=t;n<o.length;n++){var r=o[n];if(e.getRegionCardinality(r)===dt.FULL_TABLE)return!0}return!1},e.containsRegion=function(t,n){return e.overlapsRegion(t,n,!1)},e.overlapsRegion=function(t,n,o){void 0===o&&(o=!1);var r=o?e.intervalOverlaps:e.intervalContains;if(null==t||null==n)return!1;for(var l=0,i=t;l<i.length;l++){var a=i[l];switch(e.getRegionCardinality(a)){case dt.FULL_TABLE:return!0;case dt.FULL_COLUMNS:if(r(a.cols,n.cols))return!0;continue;case dt.FULL_ROWS:if(r(a.rows,n.rows))return!0;continue;case dt.CELLS:if(r(a.cols,n.cols)&&r(a.rows,n.rows))return!0;continue}}return!1},e.eachUniqueFullColumn=function(t,n){if(null!=t&&0!==t.length&&null!=n){var o={};t.forEach((function(t){if(e.getRegionCardinality(t)===dt.FULL_COLUMNS)for(var r=t.cols,l=r[0],i=r[1],a=l;a<=i;a++)o[a]||(o[a]=!0,n(a))}))}},e.eachUniqueFullRow=function(t,n){if(null!=t&&0!==t.length&&null!=n){var o={};t.forEach((function(t){if(e.getRegionCardinality(t)===dt.FULL_ROWS)for(var r=t.rows,l=r[0],i=r[1],a=l;a<=i;a++)o[a]||(o[a]=!0,n(a))}))}},e.enumerateUniqueCells=function(t,n,o){if(null==t||0===t.length)return[];for(var r={},l=[],i=0,a=t;i<a.length;i++){var s=a[i];e.eachCellInRegion(s,n,o,(function(e,t){var n="".concat(e,"-").concat(t);!0!==r[n]&&(r[n]=!0,l.push([e,t]))}))}return l.sort(e.rowFirstComparator),l},e.getCellRegionFromRegion=function(t,n,o){switch(e.getRegionCardinality(t)){case dt.FULL_TABLE:return e.cell(0,0,n-1,o-1);case dt.FULL_COLUMNS:return e.cell(0,t.cols[0],n-1,t.cols[1]);case dt.FULL_ROWS:return e.cell(t.rows[0],0,t.rows[1],o-1);case dt.CELLS:return e.cell(t.rows[0],t.cols[0],t.rows[1],t.cols[1])}},e.sparseMapCells=function(t,n){var o=e.getBoundingRegion(t);if(void 0!==o){var r=o.rows[1]+1-o.rows[0],l=o.cols[1]+1-o.cols[0],i=ft.times(r,(function(){return new Array(l)}));return t.forEach((function(e){var t=e[0],r=e[1];i[t-o.rows[0]][r-o.cols[0]]=n(t,r)})),i}},e.getBoundingRegion=function(e){for(var t,n,o,r,l=0,i=e;l<i.length;l++){var a=i[l],s=a[0],d=a[1];t=void 0===t||s<t?s:t,n=void 0===n||s>n?s:n,o=void 0===o||d<o?d:o,r=void 0===r||d>r?d:r}if(void 0!==t&&void 0!==n&&void 0!==o&&void 0!==r)return{cols:[o,r],rows:[t,n]}},e.isValid=function(e){return!(null==e||null!=e.rows&&(e.rows[0]<0||e.rows[1]<0)||null!=e.cols&&(e.cols[0]<0||e.cols[1]<0))},e.isRegionValidForTable=function(e,t,n){return!(0===t||0===n||null!=e.rows&&!yt(e.rows,0,t-1)||null!=e.cols&&!yt(e.cols,0,n-1))},e.joinStyledRegionGroups=function(t,n,o){var r=[];return null!=n&&(r=r.concat(n)),null!=t&&t.length>0&&r.push({className:Ve,regions:t}),void 0!==o&&r.push({className:j,regions:[e.cell(o.row,o.col)]}),r},e.regionsEqual=function(t,n){return e.intervalsEqual(t.rows,n.rows)&&e.intervalsEqual(t.cols,n.cols)},e.expandRegion=function(t,n){var o=e.getRegionCardinality(t),r=e.getRegionCardinality(n);if(r!==o)return n;switch(r){case dt.FULL_ROWS:var l=Math.min(t.rows[0],n.rows[0]),i=Math.max(t.rows[1],n.rows[1]);return e.row(l,i);case dt.FULL_COLUMNS:var a=Math.min(t.cols[0],n.cols[0]),s=Math.max(t.cols[1],n.cols[1]);return e.column(a,s);case dt.CELLS:return l=Math.min(t.rows[0],n.rows[0]),a=Math.min(t.cols[0],n.cols[0]),i=Math.max(t.rows[1],n.rows[1]),s=Math.max(t.cols[1],n.cols[1]),e.cell(l,a,i,s);default:return e.table()}},e.eachCellInRegion=function(t,n,o,r){switch(e.getRegionCardinality(t)){case dt.FULL_TABLE:for(var l=0;l<n;l++)for(var i=0;i<o;i++)r(l,i);break;case dt.FULL_COLUMNS:for(l=0;l<n;l++)for(i=t.cols[0];i<=t.cols[1];i++)r(l,i);break;case dt.FULL_ROWS:for(l=t.rows[0];l<=t.rows[1];l++)for(i=0;i<o;i++)r(l,i);break;case dt.CELLS:for(l=t.rows[0];l<=t.rows[1];l++)for(i=t.cols[0];i<=t.cols[1];i++)r(l,i)}},e.regionContains=function(t,n){return e.overlapsRegion([t],n,!1)},e.intervalsEqual=function(e,t){return null==e?null==t:null!=t&&e[0]===t[0]&&e[1]===t[1]},e.intervalContainsIndex=function(e,t){return null!=e&&e[0]<=t&&e[1]>=t},e.intervalContains=function(e,t){return null!=e&&null!=t&&e[0]<=t[0]&&t[1]<=e[1]},e.intervalOverlaps=function(e,t){return null!=e&&null!=t&&!(e[1]<t[0]||e[0]>t[1])},e.rowFirstComparator=function(e,t){var n=e[0]-t[0];return 0===n?e[1]-t[1]:n},e.numericalComparator=function(e,t){return e-t},e.normalizeInterval=function(t,n){null==n&&(n=t);var o=[t,n];return o.sort(e.numericalComparator),o},e}();function yt(e,t,n){return wt(e[0],t,n)&&wt(e[1],t,n)}function wt(e,t,n){return e>=t&&e<=n}var bt,St=function(){function e(e,t,n,o){this.left=e,this.top=t,this.width=n,this.height=o}return e.union=function(t,n){var o=e.wrap(t),r=e.wrap(n),l=Math.min(o.top,r.top),i=Math.min(o.left,r.left),a=Math.max(o.top+o.height,r.top+r.height);return new e(i,l,Math.max(o.left+o.width,r.left+r.width)-i,a-l)},e.subtractOrigin=function(t,n){var o=e.wrap(t),r=e.wrap(n);return new e(o.left-r.left,o.top-r.top,o.width,o.height)},e.style=function(e){return{height:"".concat(e.height,"px"),left:"".concat(e.left,"px"),position:"absolute",top:"".concat(e.top,"px"),width:"".concat(e.width,"px")}},e.wrap=function(t){return t instanceof e?t:new e(t.left,t.top,t.width,t.height)},e.prototype.subtractOrigin=function(t){return e.subtractOrigin(this,t)},e.prototype.union=function(t){return e.union(this,t)},e.prototype.style=function(){return e.style(this)},e.prototype.sizeStyle=function(){return{height:"".concat(this.height,"px"),width:"".concat(this.width,"px")}},e.prototype.containsX=function(e){return e>=this.left&&e<=this.left+this.width},e.prototype.containsY=function(e){return e>=this.top&&e<=this.top+this.height},e.prototype.equals=function(e){return null!=e&&this.left===e.left&&this.top===e.top&&this.width===e.width&&this.height===e.height},e.ORIGIN=new e(0,0,0,0),e}(),Et=function(){function e(t,n,o,r,l){void 0===o&&(o=e.DEFAULT_BLEED),void 0===r&&(r=e.DEFAULT_GHOST_HEIGHT),void 0===l&&(l=e.DEFAULT_GHOST_WIDTH);var i=this;this.getCumulativeWidthBefore=function(e){return 0===e?0:i.getCumulativeWidthAt(e-1)},this.getCumulativeWidthAt=function(e){return 0===i.numCols?i.ghostWidth*e:e>=i.numCols?i.cumulativeColumnWidths[i.numCols-1]+i.ghostWidth*(e-i.numCols+1):i.cumulativeColumnWidths[e]},this.getCumulativeHeightBefore=function(e){return 0===e?0:i.getCumulativeHeightAt(e-1)},this.getCumulativeHeightAt=function(e){return 0===i.numRows?i.ghostHeight*e:e>=i.numRows?i.cumulativeRowHeights[i.numRows-1]+i.ghostHeight*(e-i.numRows+1):i.cumulativeRowHeights[e]},this.columnWidths=n,this.rowHeights=t,this.cumulativeColumnWidths=ft.accumulate(n),this.cumulativeRowHeights=ft.accumulate(t),this.numCols=n.length,this.numRows=t.length,this.bleed=o,this.ghostHeight=r,this.ghostWidth=l}return e.prototype.getCellRect=function(e,t){var n=this.rowHeights[e],o=this.cumulativeRowHeights[e]-n,r=this.columnWidths[t],l=this.cumulativeColumnWidths[t]-r;return new St(l,o,r,n)},e.prototype.getGhostCellRect=function(e,t){var n=0,o=0,r=0,l=0;return e>=this.rowHeights.length?(l=this.ghostHeight,o=this.getHeight()+this.ghostHeight*(e-this.numRows)):(l=this.rowHeights[e],o=this.cumulativeRowHeights[e]-l),t>=this.columnWidths.length?(r=this.ghostWidth,n=this.getWidth()+this.ghostWidth*(t-this.numCols)):(r=this.columnWidths[t],n=this.cumulativeColumnWidths[t]-r),new St(n,o,r,l)},e.prototype.getRowRect=function(e){var t=this.rowHeights[e],n=this.cumulativeRowHeights[e]-t;return new St(0,n,this.getWidth(),t)},e.prototype.getColumnRect=function(e){var t=this.columnWidths[e],n=this.cumulativeColumnWidths[e]-t;return new St(n,0,t,this.getHeight())},e.prototype.getWidth=function(){return 0===this.numCols?0:this.cumulativeColumnWidths[this.numCols-1]},e.prototype.getHeight=function(){return 0===this.numRows?0:this.cumulativeRowHeights[this.numRows-1]},e.prototype.getRect=function(){return new St(0,0,this.getWidth(),this.getHeight())},e.prototype.mapCellsInRect=function(e,t){var n=[];if(null==e)return n;for(var o=this.getRowIndicesInRect({rect:e}),r=o.rowIndexStart,l=o.rowIndexEnd,i=this.getColumnIndicesInRect(e),a=i.columnIndexStart,s=i.columnIndexEnd,d=r;d<=l;d++)for(var u=a;u<=s;u++)n.push(t(d,u));return n},e.prototype.mapRowsInRect=function(e,t){var n=[];if(null==e)return n;for(var o=this.getRowIndicesInRect({rect:e}),r=o.rowIndexStart,l=o.rowIndexEnd,i=r;i<=l;i++)n.push(t(i));return n},e.prototype.mapColumnsInRect=function(e,t){var n=[];if(null==e)return n;for(var o=this.getColumnIndicesInRect(e),r=o.columnIndexStart,l=o.columnIndexEnd,i=r;i<=l;i++)n.push(t(i));return n},e.prototype.getRowIndicesInRect=function(t){var n=t.rect,o=t.includeGhostCells,r=void 0!==o&&o,l=t.columnHeaderHeight,i=void 0===l?0:l,a=t.limit,s=void 0===a?e.DEFAULT_MAX_ROWS:a;if(null==n)return{rowIndexEnd:0,rowIndexStart:0};var d=r?Math.max(this.numRows,e.DEFAULT_MAX_ROWS):this.numRows,u=n.top,c=void 0===u?0:u,h=n.height,p=this.getIndicesInInterval(c,c+(h-i),d,!r,this.getCumulativeHeightAt),f=p.start,g=p.end;return{rowIndexEnd:s>0&&g-f>s?f+s:g,rowIndexStart:f}},e.prototype.getColumnIndicesInRect=function(t,n,o){if(void 0===n&&(n=!1),void 0===o&&(o=e.DEFAULT_MAX_COLUMNS),null==t)return{columnIndexEnd:0,columnIndexStart:0};var r=n?Math.max(this.numCols,e.DEFAULT_MAX_COLUMNS):this.numCols,l=t.left,i=void 0===l?0:l,a=t.width,s=this.getIndicesInInterval(i,i+a,r,!n,this.getCumulativeWidthAt),d=s.start,u=s.end;return{columnIndexEnd:o>0&&u-d>o?d+o:u,columnIndexStart:d}},e.prototype.isGhostIndex=function(e,t){return e>=this.numRows||t>=this.numCols},e.prototype.isGhostColumn=function(e){return e>=this.numCols},e.prototype.getExtremaClasses=function(e,t,n,o){return e===n&&t===o?[le,ie]:e===n?[le]:t===o?[ie]:[]},e.prototype.getRegionStyle=function(e){switch(Rt.getRegionCardinality(e)){case dt.CELLS:var t=e.rows,n=t[0],o=t[1],r=e.cols,l=r[0],i=r[1];if(this.isGhostIndex(n,l)||this.isGhostIndex(o,i))return{display:"none"};var a=this.getCellRect(n,l),s=this.getCellRect(o,i),d=0===l?0:1,u=0===n?0:1;return(h=a.union(s)).height+=u,h.left-=d,h.width+=d,h.top-=u,(0,S.__assign)((0,S.__assign)({},h.style()),{display:"block"});case dt.FULL_COLUMNS:var c=e.cols;return l=c[0],i=c[1],this.isGhostIndex(0,l)||this.isGhostIndex(0,i)?{display:"none"}:(a=this.getCellRect(0,l),s=this.getCellRect(0,i),d=0===l?0:1,{bottom:0,display:"block",left:(h=a.union(s)).left-d,top:0,width:h.width+d});case dt.FULL_ROWS:var h,p=e.rows;return n=p[0],o=p[1],this.isGhostIndex(n,0)||this.isGhostIndex(o,0)?{display:"none"}:(a=this.getCellRect(n,0),s=this.getCellRect(o,0),u=0===n?0:1,{display:"block",height:(h=a.union(s)).height+u,left:0,right:0,top:h.top-u});case dt.FULL_TABLE:return{bottom:0,display:"block",left:0,right:0,top:0};default:return{display:"none"}}},e.prototype.getIndicesInInterval=function(e,t,n,o,r){var l=ft.binarySearch(e,n-1,r),i=ft.binarySearch(t,n-1,r);return l>=0&&e===r(l)&&(l+=1),{start:l=Math.max(0,l-this.bleed),end:i=o?Math.min(n-1,i+this.bleed):Math.min(n-1,i)}},e.DEFAULT_BLEED=3,e.DEFAULT_MAX_COLUMNS=50,e.DEFAULT_MAX_ROWS=200,e.DEFAULT_GHOST_HEIGHT=20,e.DEFAULT_GHOST_WIDTH=150,e.MIN_COLUMN_HEADER_HEIGHT=30,e.MIN_ROW_HEADER_WIDTH=30,e}(),Ht=function(){function e(e,t,n){var o=this;this.tableElement=e,this.scrollContainerElement=t,this.cellContainerElement=n,this.convertCellIndexToClientX=function(e){return o.grid.getCumulativeWidthAt(e)},this.convertCellMidpointToClientX=function(e){return(o.grid.getCumulativeWidthBefore(e)+o.grid.getCumulativeWidthAt(e))/2},this.convertCellIndexToClientY=function(e){return o.grid.getCumulativeHeightAt(e)},this.convertCellMidpointToClientY=function(e){return(o.grid.getCumulativeHeightBefore(e)+o.grid.getCumulativeHeightAt(e))/2},this.toGridX=function(e){var t=o.cellContainerElement.getBoundingClientRect().left,n=o.scrollContainerElement.scrollLeft,r=e-(t+n);return null!=o.numFrozenColumns&&o.numFrozenColumns>0&&r<=o.grid.getCumulativeWidthBefore(o.numFrozenColumns)?r:r+n},this.toGridY=function(e){var t=o.cellContainerElement.getBoundingClientRect().top,n=o.scrollContainerElement.scrollTop,r=e-(t+n);return null!=o.numFrozenRows&&o.numFrozenRows>0&&r<=o.grid.getCumulativeHeightBefore(o.numFrozenRows)?r:r+n},this.numFrozenRows=0,this.numFrozenColumns=0}return e.prototype.setGrid=function(e){return this.grid=e,this},e.prototype.setNumFrozenRows=function(e){return this.numFrozenRows=e,this},e.prototype.setNumFrozenColumns=function(e){return this.numFrozenColumns=e,this},e.prototype.getViewportRect=function(){return new St(this.scrollContainerElement.scrollLeft||0,this.scrollContainerElement.scrollTop||0,this.scrollContainerElement.clientWidth,this.scrollContainerElement.clientHeight)},e.prototype.getWidestVisibleCellInColumn=function(t){for(var n=this.getColumnCellSelector(t),o=this.tableElement.querySelectorAll(n),r=0,l=0;l<o.length;l++){var i=ft.measureElementTextContent(o.item(l)).width,a=Math.ceil(i)+2*e.CELL_HORIZONTAL_PADDING;a>r&&(r=a)}return r},e.prototype.getTallestVisibleCellInColumn=function(e){for(var t=this.getColumnCellSelector(e),n=this.tableElement.querySelectorAll("".concat(t,".").concat(F)),o=0,r=0;r<n.length;r++){var l,i=n.item(r),a=i.querySelector(".".concat(nt)),s=i.querySelector(".".concat(Je)),d=i.querySelector(".".concat(tt));(l=null!=a?a.scrollHeight:null!=s?s.scrollHeight:null!=d?d.scrollHeight:i.scrollHeight)>o&&(o=l)}return o},e.prototype.hasVerticalOverflow=function(e,t){return void 0===e&&(e=Et.MIN_COLUMN_HEADER_HEIGHT),void 0===t&&(t=this.getViewportRect()),void 0!==this.grid&&this.grid.getHeight()>t.height-e},e.prototype.hasHorizontalOverflow=function(e,t){return void 0===e&&(e=Et.MIN_ROW_HEADER_WIDTH),void 0===t&&(t=this.getViewportRect()),void 0!==this.grid&&this.grid.getWidth()>t.width-e},e.prototype.convertPointToColumn=function(e,t){var n=this.getTableRect();if(void 0===this.grid||!n.containsX(e))return-1;var o=this.toGridX(e),r=t?this.grid.numCols:this.grid.numCols-1,l=t?this.convertCellMidpointToClientX:this.convertCellIndexToClientX;return ft.binarySearch(o,r,l)},e.prototype.convertPointToRow=function(e,t){var n=this.getTableRect();if(void 0===this.grid||!n.containsY(e))return-1;var o=this.toGridY(e),r=t?this.grid.numRows:this.grid.numRows-1,l=t?this.convertCellMidpointToClientY:this.convertCellIndexToClientY;return ft.binarySearch(o,r,l)},e.prototype.convertPointToCell=function(e,t){var n=this.toGridX(e),o=this.toGridY(t);return{col:ft.binarySearch(n,this.grid.numCols-1,this.convertCellIndexToClientX),row:ft.binarySearch(o,this.grid.numRows-1,this.convertCellIndexToClientY)}},e.prototype.getColumnCellSelector=function(e){var t=e<this.numFrozenColumns?ye:we,n=at(e);return".".concat(t," .").concat(n)},e.prototype.getTableRect=function(){return St.wrap(this.tableElement.getBoundingClientRect())},e.CELL_HORIZONTAL_PADDING=10,e}();!function(e){e.ALWAYS="always",e.NEVER="never",e.WHEN_TRUNCATED="when-truncated",e.WHEN_TRUNCATED_APPROX="when-truncated-approx"}(bt||(bt={}));var Lt,It=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isPopoverOpen:!1,isTruncated:!1},t.handleContentDivRef=function(e){return t.contentDiv=e},t.handlePopoverOpen=function(){t.setState({isPopoverOpen:!0})},t.handlePopoverClose=function(){t.setState({isPopoverOpen:!1})},t}return(0,S.__extends)(t,e),t.prototype.componentDidMount=function(){this.setTruncationState()},t.prototype.componentDidUpdate=function(){this.setTruncationState()},t.prototype.render=function(){var e=this.props,t=e.children,n=e.detectTruncation,o=e.truncateLength,r=e.truncationSuffix,l=""+t,i=l;if(!n&&o>0&&i.length>o&&(i=i.substring(0,o)+r),this.shouldShowPopover(l)){var a=H()(this.props.className,Ze);return L.createElement("div",{className:a},L.createElement("div",{className:nt,ref:this.handleContentDivRef},i),this.renderPopover())}return a=H()(this.props.className,Je),L.createElement("div",{className:a,ref:this.handleContentDivRef},i)},t.prototype.renderPopover=function(){var e=this.props,t=e.children,n=e.preformatted;if(this.state.isPopoverOpen){var o=H()($e,n?ve:me),r=L.createElement("div",{className:o},t);return L.createElement(I.Popover,{className:et,modifiers:{preventOverflow:{boundariesElement:"window"}},content:r,position:I.Position.BOTTOM,isOpen:!0,onClose:this.handlePopoverClose},L.createElement(I.Icon,{icon:"more"}))}return L.createElement("span",{className:et,onClick:this.handlePopoverOpen},L.createElement(I.Icon,{icon:"more"}))},t.prototype.shouldShowPopover=function(e){var t=this.props,n=t.detectTruncation,o=t.measureByApproxOptions,r=t.showPopover,l=t.truncateLength;switch(r){case bt.ALWAYS:return!0;case bt.NEVER:return!1;case bt.WHEN_TRUNCATED:return n?this.state.isTruncated:l>0&&e.length>l;case bt.WHEN_TRUNCATED_APPROX:if(!n)return l>0&&e.length>l;if(null==this.props.parentCellHeight||null==this.props.parentCellWidth)return!1;var i=o,a=i.approximateCharWidth,s=i.approximateLineHeight,d=i.cellHorizontalPadding,u=i.numBufferLines,c=this.props.parentCellWidth;return ft.getApproxCellHeight(e,c,a,s,d,u)>this.props.parentCellHeight;default:return!1}},t.prototype.setTruncationState=function(){if(this.props.detectTruncation&&this.props.showPopover===bt.WHEN_TRUNCATED)if(null!=this.contentDiv){var e=this.state.isTruncated,t=this.contentDiv,n=t.clientHeight,o=t.clientWidth,r=t.scrollHeight,l=t.scrollWidth,i=e?l-25:l,a=e&&i===o||i>o||r>n;this.setState({isTruncated:a})}else this.setState({isTruncated:!1})},t.displayName="".concat(I.DISPLAYNAME_PREFIX,".TruncatedFormat"),t.defaultProps={detectTruncation:!1,measureByApproxOptions:{approximateCharWidth:8,approximateLineHeight:18,cellHorizontalPadding:2*Ht.CELL_HORIZONTAL_PADDING,numBufferLines:0},preformatted:!1,showPopover:bt.WHEN_TRUNCATED,truncateLength:2e3,truncationSuffix:"..."},t}(L.PureComponent),Tt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,S.__extends)(t,e),t.prototype.render=function(){var e,t=this.props,n=t.children,o=t.omitQuotesOnStrings,r=t.stringify,l=this.props.showPopover,i=null==n;i&&(l=bt.NEVER);var a,s=H()(this.props.className,((e={})[he]=i,e));return a=o&&"string"==typeof n?n:r(n),L.createElement(It,(0,S.__assign)({},this.props,{className:s,showPopover:l}),a)},t.displayName="".concat(I.DISPLAYNAME_PREFIX,".JSONFormat"),t.defaultProps={omitQuotesOnStrings:!0,stringify:function(e){return JSON.stringify(e,null,2)}},t}(L.Component),xt=function(){return L.createElement(_t,null)},_t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,S.__extends)(t,e),t.prototype.shouldComponentUpdate=function(e){return!I.Utils.shallowCompareKeys(this.props,e,{exclude:["style"]})||!I.Utils.deepCompareKeys(this.props.style,e.style)},t.prototype.render=function(){var e,t,n=this.props,o=n.cellRef,r=n.tabIndex,l=n.onKeyDown,i=n.onKeyUp,a=n.onKeyPress,s=n.style,d=n.intent,u=n.interactive,c=n.loading,h=n.tooltip,p=n.truncated,f=n.className,g=n.wrapText,m=H()(F,I.Classes.intentClass(d),((e={})[A]=u,e[I.Classes.LOADING]=c,e[Xe]=p,e),f),v=H()(((t={})[tt]=p,t[ce]=!g,t)),C=L.Children.map(this.props.children,(function(e){var t=I.Utils.isElementOfType(e,It)||I.Utils.isElementOfType(e,Tt);return null!=s&&L.isValidElement(e)&&t?L.cloneElement(e,{parentCellHeight:void 0===s.height?void 0:parseInt(s.height.toString(),10),parentCellWidth:void 0===s.width?void 0:parseInt(s.width.toString(),10)}):e})),R=L.createElement("div",{className:v},C);return L.createElement("div",(0,S.__assign)({className:m,title:h,ref:o},{style:s,tabIndex:r,onKeyDown:l,onKeyUp:i,onKeyPress:a}),L.createElement(ut,{loading:null!=c&&c,variableLength:!0},R))},t.displayName="".concat(I.DISPLAYNAME_PREFIX,".Cell"),t.defaultProps={truncated:!0,wrapText:!1},t}(L.Component),Mt=a(318),Ft=function(){function e(){var t=this;this.isActivated=!1,this.isDragging=!1,this.handleMouseDown=function(e){t.initCoordinateData(e),(null==t.handler||null==t.handler.onActivate||!1!==t.handler.onActivate(e))&&(t.isActivated=!0,t.maybeAlterEventChain(e),t.detachDocumentEventListeners(),t.attachDocumentEventListeners())},this.handleMouseMove=function(e){var n,o;if(t.maybeAlterEventChain(e),t.isActivated&&(t.isDragging=!0),t.isDragging){var r=t.updateCoordinateData(e);void 0!==r&&(null===(o=null===(n=t.handler)||void 0===n?void 0:n.onDragMove)||void 0===o||o.call(n,e,r))}},this.handleMouseUp=function(n){var o,r,l,i;if(t.maybeAlterEventChain(n),null!=t.handler)if(t.isDragging){var a=t.updateCoordinateData(n);void 0!==a&&(null===(r=null===(o=t.handler)||void 0===o?void 0:o.onDragMove)||void 0===r||r.call(o,n,a),null===(i=null===(l=t.handler)||void 0===l?void 0:l.onDragEnd)||void 0===i||i.call(l,n,a))}else t.isActivated&&(null!=t.handler.onDoubleClick?null==t.doubleClickTimeoutToken?t.doubleClickTimeoutToken=window.setTimeout((function(){var e,o;delete t.doubleClickTimeoutToken,null===(o=null===(e=t.handler)||void 0===e?void 0:e.onClick)||void 0===o||o.call(e,n)}),e.DOUBLE_CLICK_TIMEOUT_MSEC):(window.clearTimeout(t.doubleClickTimeoutToken),delete t.doubleClickTimeoutToken,t.handler.onDoubleClick(n)):null!=t.handler.onClick&&t.handler.onClick(n));t.isActivated=!1,t.isDragging=!1,t.detachDocumentEventListeners()}}return e.isAdditive=function(e){return e.ctrlKey||e.metaKey},e.prototype.attach=function(e,t){return this.detach(),this.handler=t,this.element=e,this.isValidDragHandler(t)&&this.element.addEventListener("mousedown",this.handleMouseDown),this},e.prototype.detach=function(){null!=this.element&&(this.element.removeEventListener("mousedown",this.handleMouseDown),this.detachDocumentEventListeners())},e.prototype.isValidDragHandler=function(e){return null!=e&&(null!=e.onActivate||null!=e.onDragMove||null!=e.onDragEnd||null!=e.onClick||null!=e.onDoubleClick)},e.prototype.attachDocumentEventListeners=function(){document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)},e.prototype.detachDocumentEventListeners=function(){document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp)},e.prototype.initCoordinateData=function(e){this.activationCoordinates=[e.clientX,e.clientY],this.lastCoordinates=this.activationCoordinates},e.prototype.updateCoordinateData=function(e){var t;if(void 0!==this.activationCoordinates){var n=[e.clientX,e.clientY],o=null!==(t=this.lastCoordinates)&&void 0!==t?t:[0,0],r=[n[0]-o[0],n[1]-o[1]],l=[n[0]-this.activationCoordinates[0],n[1]-this.activationCoordinates[1]],i={activation:this.activationCoordinates,current:n,delta:r,last:o,offset:l};return this.lastCoordinates=[e.clientX,e.clientY],i}},e.prototype.maybeAlterEventChain=function(e){var t,n;(null===(t=this.handler)||void 0===t?void 0:t.preventDefault)&&e.preventDefault(),(null===(n=this.handler)||void 0===n?void 0:n.stopPropagation)&&e.stopPropagation()},e.DOUBLE_CLICK_TIMEOUT_MSEC=500,e}(),Dt=["stopPropagation","preventDefault"],Ot=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,S.__extends)(t,e),t.prototype.render=function(){return L.Children.only(this.props.children)},t.prototype.componentDidUpdate=function(e){var t={include:Dt};void 0===this.events||I.Utils.shallowCompareKeys(e,this.props,t)||this.events.attach(Mt.findDOMNode(this),this.props)},t.prototype.componentDidMount=function(){this.events=new Ft,this.events.attach(Mt.findDOMNode(this),this.props)},t.prototype.componentWillUnmount=function(){var e;null===(e=this.events)||void 0===e||e.detach(),delete this.events},t.defaultProps={preventDefault:!0,stopPropagation:!1},t}(L.PureComponent),At=function(e){function t(t){var n=e.call(this,t)||this;return n.refHandlers={cell:function(e){n.cellRef=e}},n.handleKeyPress=function(){!n.state.isEditing&&n.props.isFocused&&n.setState({isEditing:!0,dirtyValue:"",savedValue:n.state.savedValue})},n.handleEdit=function(){n.setState({isEditing:!0,dirtyValue:n.state.savedValue})},n.handleCancel=function(e){n.setState({isEditing:!1,dirtyValue:void 0}),n.invokeCallback(n.props.onCancel,e)},n.handleChange=function(e){n.setState({dirtyValue:e}),n.invokeCallback(n.props.onChange,e)},n.handleConfirm=function(e){n.setState({isEditing:!1,savedValue:e,dirtyValue:void 0}),n.invokeCallback(n.props.onConfirm,e)},n.handleCellActivate=function(e){return!0},n.handleCellDoubleClick=function(e){n.handleEdit()},n.state={isEditing:!1,savedValue:t.value},n}return(0,S.__extends)(t,e),t.prototype.componentDidMount=function(){this.checkShouldFocus()},t.prototype.componentDidUpdate=function(e){var t=!I.Utils.shallowCompareKeys(this.props,e,{exclude:["style"]})||!I.Utils.deepCompareKeys(this.props,e,["style"]),n=this.props.value;t&&null!=n&&this.setState({savedValue:n,dirtyValue:n}),this.checkShouldFocus()},t.prototype.shouldComponentUpdate=function(e,t){return!I.Utils.shallowCompareKeys(this.props,e,{exclude:["style"]})||!I.Utils.shallowCompareKeys(this.state,t)||!I.Utils.deepCompareKeys(this.props,e,["style"])},t.prototype.render=function(){var e,t,n=this.props,o=(n.onCancel,n.onChange,n.onConfirm,n.truncated),r=n.wrapText,l=n.editableTextProps,i=(0,S.__rest)(n,["onCancel","onChange","onConfirm","truncated","wrapText","editableTextProps"]),a=this.state,s=a.isEditing,d=a.dirtyValue,u=a.savedValue,c=i.interactive||s;if(s){var h=l?l.className:null;t=L.createElement(I.EditableText,(0,S.__assign)({},l,{isEditing:!0,className:H()(K,q,h),intent:i.intent,minWidth:0,onCancel:this.handleCancel,onChange:this.handleChange,onConfirm:this.handleConfirm,onEdit:this.handleEdit,placeholder:"",selectAllOnFocus:!1,value:d}))}else{var p=H()(K,((e={})[tt]=o,e[ce]=!r,e));t=L.createElement("div",{className:p},u)}return L.createElement(_t,(0,S.__assign)({},i,{wrapText:r,truncated:!1,interactive:c,cellRef:this.refHandlers.cell,onKeyPress:this.handleKeyPress}),L.createElement(Ot,{onActivate:this.handleCellActivate,onDoubleClick:this.handleCellDoubleClick,preventDefault:!1,stopPropagation:c},t))},t.prototype.renderHotkeys=function(){var e=this.props.tabIndex;return L.createElement(I.Hotkeys,{tabIndex:e},L.createElement(I.Hotkey,{key:"edit-cell",label:"Edit the currently focused cell",group:"Table",combo:"f2",onKeyDown:this.handleEdit}))},t.prototype.checkShouldFocus=function(){var e;this.props.isFocused&&!this.state.isEditing&&(null===(e=this.cellRef)||void 0===e||e.focus())},t.prototype.invokeCallback=function(e,t){var n=this.props,o=n.rowIndex,r=n.columnIndex;null==e||e(t,o,r)},t.displayName="".concat(I.DISPLAYNAME_PREFIX,".EditableCell"),t.defaultProps={truncated:!0,wrapText:!1},(0,S.__decorate)([I.HotkeysTarget],t)}(L.Component),zt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.refHandlers={cell:function(e){t.cellRef=e}},t.state={isEditing:!1,savedValue:t.props.value},t.renderCell=function(e){var n,o,r=e.handleKeyDown,l=e.handleKeyUp,i=t.props,a=i.editableTextProps,s=(i.onCancel,i.onChange,i.onConfirm,i.tabIndex),d=void 0===s?0:s,u=i.truncated,c=i.wrapText,h=(0,S.__rest)(i,["editableTextProps","onCancel","onChange","onConfirm","tabIndex","truncated","wrapText"]),p=t.state,f=p.isEditing,g=p.dirtyValue,m=p.savedValue,v=h.interactive||f,C=null!=t.props.value&&""!==t.props.value;if(f){var R=a?a.className:null;o=L.createElement(I.EditableText,(0,S.__assign)({},a,{isEditing:!0,className:H()(K,q,R),intent:h.intent,minWidth:0,onCancel:t.handleCancel,onChange:t.handleChange,onConfirm:t.handleConfirm,onEdit:t.handleEdit,placeholder:t.props.placeholder,selectAllOnFocus:!1,value:g}))}else{var y=H()(K,((n={})[tt]=u,n[ce]=!c,n[Q]=!C,n));o=L.createElement("div",{className:y},C?m:t.props.placeholder)}return L.createElement(_t,(0,S.__assign)({},h,{wrapText:c,truncated:!1,interactive:v,cellRef:t.refHandlers.cell,onKeyDown:r,onKeyPress:t.handleKeyPress,onKeyUp:l,tabIndex:d}),L.createElement(Ot,{onActivate:t.handleCellActivate,onDoubleClick:t.handleCellDoubleClick,preventDefault:!1,stopPropagation:v},o))},t.handleKeyPress=function(){!t.state.isEditing&&t.props.isFocused&&t.setState({isEditing:!0,dirtyValue:"",savedValue:t.state.savedValue})},t.handleEdit=function(){t.setState({isEditing:!0,dirtyValue:t.state.savedValue})},t.handleCancel=function(e){t.setState({isEditing:!1,dirtyValue:void 0}),t.invokeCallback(t.props.onCancel,e)},t.handleChange=function(e){t.setState({dirtyValue:e}),t.invokeCallback(t.props.onChange,e)},t.handleConfirm=function(e){t.setState({isEditing:!1,savedValue:e,dirtyValue:void 0}),t.invokeCallback(t.props.onConfirm,e)},t.handleCellActivate=function(e){return!0},t.handleCellDoubleClick=function(e){t.handleEdit()},t.hotkeys=[{combo:"f2",group:"Table",label:"Edit the currently focused cell",onKeyDown:t.handleEdit}],t}return(0,S.__extends)(t,e),t.prototype.componentDidMount=function(){this.checkShouldFocus()},t.prototype.componentDidUpdate=function(e){var t=!I.Utils.shallowCompareKeys(this.props,e,{exclude:["style"]})||!I.Utils.deepCompareKeys(this.props,e,["style"]),n=this.props.value;t&&null!=n&&this.setState({savedValue:n,dirtyValue:n}),this.checkShouldFocus()},t.prototype.shouldComponentUpdate=function(e,t){return!I.Utils.shallowCompareKeys(this.props,e,{exclude:["style"]})||!I.Utils.shallowCompareKeys(this.state,t)||!I.Utils.deepCompareKeys(this.props,e,["style"])},t.prototype.render=function(){return L.createElement(I.HotkeysTarget2,{hotkeys:this.hotkeys},this.renderCell)},t.prototype.checkShouldFocus=function(){var e;this.props.isFocused&&!this.state.isEditing&&(null===(e=this.cellRef)||void 0===e||e.focus())},t.prototype.invokeCallback=function(e,t){var n=this.props,o=n.rowIndex,r=n.columnIndex;null==e||e(t,o,r)},t.displayName="".concat(I.DISPLAYNAME_PREFIX,".EditableCell2"),t.defaultProps={truncated:!0,wrapText:!1},t}(L.Component),Nt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,S.__extends)(t,e),t.displayName="".concat(I.DISPLAYNAME_PREFIX,".Column"),t.defaultProps={cellRenderer:xt},t}(L.PureComponent),Pt={applySelectableStyles:function(e){return e.style.overflow="hidden",e.style.height="0px",e.style.setProperty("-webkit-user-select","all"),e.style.setProperty("-moz-user-select","all"),e.style.setProperty("-ms-user-select","all"),e.style.setProperty("user-select","all"),e},copyCells:function(e){var t=e.map((function(e){return e.join("\t")})).join("\n");return navigator.clipboard.writeText(t)},copyString:function(e){return navigator.clipboard.writeText(e)}};!function(e){e.BATCH="batch",e.BATCH_ON_UPDATE="batch-on-update",e.NONE="none"}(Lt||(Lt={}));var kt,Ut="[Blueprint Table]",Wt=Ut+' <Table> Children of Table must be Columns"',Gt=Ut+" Table numFrozenColumns must be in less than or equal to the number of columns. Clamping the value for you.",Vt=Ut+" Table requires numFrozenColumns to be greater than or equal to 0.",Bt=Ut+" Table numFrozenRows must be less than or equal to numRows. Clamping the value for you.",qt=Ut+" <Table> requires numFrozenRows to be greater than or equal to 0.",Kt=Ut+" Table requires rowHeights.length to equal numRows when both props are provided.",Qt=Ut+" <Table> requires numRows to be greater than or equal to 0.",jt=Ut+" Table requires columnWidths.length to equal the number of <Column>s if provided.",Yt="".concat(Ut," Table resize method called while component is unmounted, this is a no-op."),Xt="".concat(Ut," cellRendererDependencies should either always be defined or undefined; this feature cannot be enabled during the component lifecycle"),Zt=Ut+" Copy failed.",Jt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(){var e=t.props,n=e.context,o=e.getCellData,r=e.onCopy,l=n.getUniqueCells(),i=Rt.sparseMapCells(l,o);void 0!==i&&Pt.copyCells(i).then((function(){return null==r?void 0:r(!0)})).catch((function(e){console.error(Zt,e),null==r||r(!1)}))},t}return(0,S.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=(e.context,e.getCellData,e.onCopy,(0,S.__rest)(e,["context","getCellData","onCopy"]));return L.createElement(I.MenuItem,(0,S.__assign)({},t,{onClick:this.handleClick}))},t}(L.PureComponent);!function(e){e[e.HORIZONTAL=1]="HORIZONTAL",e[e.VERTICAL=0]="VERTICAL"}(kt||(kt={}));var $t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isDragging:!1},t.handleActivate=function(e){return t.setState({isDragging:!0}),t.props.onLayoutLock(!0),e.stopPropagation(),e.stopImmediatePropagation(),!0},t.handleDragMove=function(e,n){var o=t.props.orientation;null!=t.props.onResizeMove&&t.props.onResizeMove(n.offset[o],n.delta[o])},t.handleDragEnd=function(e,n){var o=t.props.orientation;t.setState({isDragging:!1}),t.props.onLayoutLock(!1),null!=t.props.onResizeMove&&t.props.onResizeMove(n.offset[o],n.delta[o]),null!=t.props.onResizeEnd&&t.props.onResizeEnd(n.offset[o])},t.handleClick=function(e){t.setState({isDragging:!1}),t.props.onLayoutLock(!1)},t.handleDoubleClick=function(e){t.setState({isDragging:!1}),t.props.onLayoutLock(!1),null!=t.props.onDoubleClick&&t.props.onDoubleClick()},t}return(0,S.__extends)(t,e),t.prototype.render=function(){var e,t,n=this.props,o=n.onResizeMove,r=n.onResizeEnd,l=n.onDoubleClick,i=n.orientation;if(null!=o||null!=r||null!=l){var a=H()(Fe,((e={})[B]=this.state.isDragging,e[De]=i===kt.HORIZONTAL,e[Ne]=i===kt.VERTICAL,e),this.props.className),s=H()(Me,((t={})[B]=this.state.isDragging,t));return L.createElement(Ot,{onActivate:this.handleActivate,onClick:this.handleClick,onDoubleClick:this.handleDoubleClick,onDragEnd:this.handleDragEnd,onDragMove:this.handleDragMove},L.createElement("div",{className:a},L.createElement("div",{className:s})))}},t}(L.PureComponent);function en(e,t,n,o){if(e){if(null!=t)return t;if(null!=n)return n;if(o.length>0){var r=o.length-1;return(0,S.__assign)((0,S.__assign)({},Rt.getFocusCellCoordinatesFromRegion(o[r])),{focusSelectionIndex:r})}return{col:0,row:0,focusSelectionIndex:0}}}function tn(e,t){return void 0===t&&(t=0),(0,S.__assign)((0,S.__assign)({},e),{focusSelectionIndex:t})}function nn(e,t,n,o){var r=e[n],l=t[o],i=l[0];if(i!==l[1]){if("rows"===o)throw new Error("[Blueprint Table] Table cannot expand a FULL_COLUMNS selection using a multi-row region.");if("cols"===o)throw new Error("[Blueprint Table] Table cannot expand a FULL_COLUMNS selection using a multi-column region.")}return r<=i?[r,i]:[i,r]}var on=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.didExpandSelectionOnActivate=!1,t.lastEmittedSelectedRegions=null,t.handleActivate=function(e){var n=t.props,o=n.locateClick,r=n.selectedRegions,l=n.selectedRegionTransform;if(t.shouldIgnoreMouseDown(e))return!1;var i=o(e);if(!Rt.isValid(i))return!1;null!=l&&(i=l(i,e));var a=Rt.findMatchingRegion(r,i),s=-1!==a;return s&&Ft.isAdditive(e)?(t.handleClearSelectionAtIndex(a),!1):(s?t.handleClearAllSelectionsNotAtIndex(a):t.shouldExpandSelection(e)?t.handleExpandSelection(i):t.shouldAddDisjointSelection(e)?t.handleAddDisjointSelection(i):t.handleReplaceSelection(i),!0)},t.handleDragMove=function(e,n){var o=t.props,r=o.enableMultipleSelection,l=o.focusedCell,i=o.locateClick,a=o.locateDrag,s=o.selectedRegions,d=o.selectedRegionTransform,u=r?a(e,n,t.didExpandSelectionOnActivate):i(e);if(void 0!==u&&Rt.isValid(u)){null!=d&&(u=d(u,e,n));var c=t.didExpandSelectionOnActivate?t.expandSelectedRegions(s,u,l):Rt.update(s,u);if(t.maybeInvokeSelectionCallback(c),!r){var h=c.length-1,p=c[h];t.invokeOnFocusCallbackForRegion(p,h)}}},t.handleDragEnd=function(){t.finishInteraction()},t.handleClick=function(){t.finishInteraction()},t.shouldExpandSelection=function(e){return t.props.enableMultipleSelection&&e.shiftKey},t.shouldAddDisjointSelection=function(e){return t.props.enableMultipleSelection&&Ft.isAdditive(e)},t.handleClearSelectionAtIndex=function(e){var n=t.props.selectedRegions.slice();if(n.splice(e,1),t.maybeInvokeSelectionCallback(n),n.length>0){var o=n.length-1;t.invokeOnFocusCallbackForRegion(n[o],o)}},t.handleClearAllSelectionsNotAtIndex=function(e){var n=t.props.selectedRegions[e];t.maybeInvokeSelectionCallback([n]),t.invokeOnFocusCallbackForRegion(n,0)},t.handleExpandSelection=function(e){var n=t.props,o=n.focusedCell,r=n.selectedRegions;t.didExpandSelectionOnActivate=!0;var l=t.expandSelectedRegions(r,e,o);t.maybeInvokeSelectionCallback(l),null!=r&&0!==r.length||t.invokeOnFocusCallbackForRegion(e)},t.handleAddDisjointSelection=function(e){var n=t.props.selectedRegions,o=Rt.add(n,e);t.maybeInvokeSelectionCallback(o),t.invokeOnFocusCallbackForRegion(e,o.length-1)},t.handleReplaceSelection=function(e){var n=[e];t.maybeInvokeSelectionCallback(n),t.invokeOnFocusCallbackForRegion(e)},t.invokeOnFocusCallbackForRegion=function(e,n){void 0===n&&(n=0),(0,t.props.onFocusedCell)(tn(Rt.getFocusCellCoordinatesFromRegion(e),n))},t.finishInteraction=function(){var e,n;null===(n=(e=t.props).onSelectionEnd)||void 0===n||n.call(e,t.props.selectedRegions),t.didExpandSelectionOnActivate=!1,t.lastEmittedSelectedRegions=null},t}return(0,S.__extends)(t,e),t.prototype.render=function(){var e=this.getDraggableProps();return L.createElement(Ot,(0,S.__assign)({},e,{preventDefault:!1}),this.props.children)},t.prototype.getDraggableProps=function(){return null==this.props.onSelection?{}:{onActivate:this.handleActivate,onClick:this.handleClick,onDragEnd:this.handleDragEnd,onDragMove:this.handleDragMove}},t.prototype.shouldIgnoreMouseDown=function(e){var t,n,o=this.props,r=o.disabled,l=o.ignoredSelectors,i=void 0===l?[]:l,a=e.target,s=ft.isLeftClick(e),d=s&&e.ctrlKey&&(void 0!==(n=null!=t?t:"undefined"!=typeof navigator?navigator.platform:void 0)&&/Mac|iPod|iPhone|iPad/.test(n)),u="function"==typeof r?r(e):r;return!s||d||u||i.some((function(e){return null!=a.closest(e)}))},t.prototype.maybeInvokeSelectionCallback=function(e){var t=this.props.onSelection;null!=this.lastEmittedSelectedRegions&&I.Utils.deepCompareKeys(this.lastEmittedSelectedRegions,e)||(t(e),this.lastEmittedSelectedRegions=e)},t.prototype.expandSelectedRegions=function(e,t,n){if(0===e.length)return[t];if(null!=n){var o=function(e,t){switch(Rt.getRegionCardinality(t)){case dt.FULL_COLUMNS:var n=nn(e,t,"col","cols"),o=n[0],r=n[1];return Rt.column(o,r);case dt.FULL_ROWS:var l=nn(e,t,"row","rows");return o=l[0],r=l[1],Rt.row(o,r);case dt.CELLS:var i=nn(e,t,"row","rows"),a=i[0],s=i[1],d=nn(e,t,"col","cols"),u=d[0],c=d[1];return Rt.cell(a,u,s,c);default:return Rt.table()}}(n,t);return Rt.update(e,o)}return o=Rt.expandRegion(e[e.length-1],t),Rt.update(e,o)},t.defaultProps={disabled:!1,enableMultipleSelection:!1,selectedRegions:[]},t}(L.PureComponent),rn={enableColumnInteractionBar:a(641).bool},ln=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isActive:!1},t}return(0,S.__extends)(t,e),t.prototype.shouldComponentUpdate=function(e){return!I.Utils.shallowCompareKeys(this.props,e,{exclude:["style"]})||!I.Utils.deepCompareKeys(this.props,e,["style"])},t.prototype.renderContextMenu=function(e){var t=this.props.menuRenderer;return I.Utils.isFunction(t)?t(this.props.index):void 0},t.prototype.render=function(){var e,t=H()(Z,((e={})[J]=this.props.isActive||this.state.isActive,e[te]=this.props.isSelected,e[I.Classes.LOADING]=this.props.loading,e),this.props.className);return L.createElement("div",{className:t,style:this.props.style},this.props.children)},(0,S.__decorate)([I.ContextMenuTarget],t)}(L.Component);function an(){return L.createElement("div",{className:ne})}var sn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.context={enableColumnInteractionBar:!1},t.state={isActive:!1},t.handlePopoverOpened=function(){return t.setState({isActive:!0})},t.handlePopoverClosing=function(){return t.setState({isActive:!1})},t}return(0,S.__extends)(t,e),t.isHeaderMouseTarget=function(e){return e.classList.contains(Z)||e.classList.contains(W)||e.classList.contains(re)||e.classList.contains($)},t.prototype.render=function(){var e,t=this.props,n=(t.enableColumnReordering,t.isColumnSelected,t.menuIcon,t.name,t.nameRenderer,(0,S.__rest)(t,["enableColumnReordering","isColumnSelected","menuIcon","name","nameRenderer"])),o=H()(n.className,U,((e={})[Y]=this.context.enableColumnInteractionBar,e[X]=null!=this.props.reorderHandle,e));return L.createElement(ln,(0,S.__assign)({isReorderable:this.props.enableColumnReordering,isSelected:this.props.isColumnSelected},n,{className:o}),this.renderName(),this.maybeRenderContent(),this.props.loading?void 0:this.props.resizeHandle)},t.prototype.renderName=function(){var e,t=this.props,n=t.index,o=t.loading,r=t.name,l=t.nameRenderer,i=t.reorderHandle,a=this.maybeRenderDropdownMenu(),s=L.createElement("div",{className:tt},r),d=L.createElement(ut,{loading:null!=o&&o,variableLength:!0},null!==(e=null==l?void 0:l(r,n))&&void 0!==e?e:s);return this.context.enableColumnInteractionBar?L.createElement("div",{className:W,title:r},L.createElement("div",{className:re},i,a),L.createElement(an,null),L.createElement("div",{className:G},d)):L.createElement("div",{className:W,title:r},i,a,L.createElement("div",{className:G},d))},t.prototype.maybeRenderContent=function(){if(null!==this.props.children)return L.createElement("div",{className:$},this.props.children)},t.prototype.maybeRenderDropdownMenu=function(){var e,t=this.props,n=t.index,o=t.menuIcon,r=t.menuRenderer;if(I.Utils.isFunction(r)){var l=H()(qe,ct,((e={})[Qe]=this.state.isActive,e));return L.createElement("div",{className:l},L.createElement("div",{className:Ke}),L.createElement(I.Popover,{content:r(n),position:I.Position.BOTTOM,className:Be,modifiers:{preventOverflow:{boundariesElement:"window"}},onOpened:this.handlePopoverOpened,onClosing:this.handlePopoverClosing},L.createElement(I.Icon,{icon:o})))}},t.defaultProps={isActive:!1,menuIcon:"chevron-down"},t.contextTypes=rn,t}(I.AbstractPureComponent2),dn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.selectedRegionLength=0,t.handleActivate=function(e){if(t.shouldIgnoreMouseDown(e))return!1;var n=t.props.locateClick(e);if(!Rt.isValid(n))return!1;var o=Rt.getRegionCardinality(n),r=o===dt.FULL_COLUMNS,l=o===dt.FULL_ROWS;if(!r&&!l)return!1;var i=t.props.selectedRegions,a=void 0===i?[]:i,s=Rt.findContainingRegion(a,n);if(s>=0){var d=a[s];if(Rt.getRegionCardinality(d)!==o)return!1;var u=l?d.rows:d.cols;t.selectedRegionStartIndex=u[0],t.selectedRegionLength=u[1]-u[0]+1}else{t.maybeSelectRegion(n);var c=l?n.rows:n.cols;t.selectedRegionStartIndex=c[0],t.selectedRegionLength=c[1]-c[0]+1}return!0},t.handleDragMove=function(e,n){var o=t.selectedRegionStartIndex,r=t.props.locateDrag(e,n);if(void 0!==o&&void 0!==r){var l=t.selectedRegionLength,i=ft.guideIndexToReorderedIndex(o,r,l);t.props.onReordering(o,i,l)}},t.handleDragEnd=function(e,n){var o=t.selectedRegionStartIndex,r=t.props.locateDrag(e,n);if(void 0!==o&&void 0!==r){var l=t.selectedRegionLength,i=ft.guideIndexToReorderedIndex(o,r,l);t.props.onReordered(o,i,l);var a=t.props.toRegion(i,i+l-1);t.maybeSelectRegion(a),t.selectedRegionStartIndex=void 0,t.selectedRegionLength=0}},t}return(0,S.__extends)(t,e),t.prototype.render=function(){var e=this.getDraggableProps();return L.createElement(Ot,(0,S.__assign)({},e,{preventDefault:!1}),this.props.children)},t.prototype.getDraggableProps=function(){return null==this.props.onReordered?{}:{onActivate:this.handleActivate,onDragEnd:this.handleDragEnd,onDragMove:this.handleDragMove}},t.prototype.shouldIgnoreMouseDown=function(e){var t=this.props.disabled,n=I.Utils.isFunction(t)?null==t?void 0:t(e):t;return!ft.isLeftClick(e)||n},t.prototype.maybeSelectRegion=function(e){var t=[e];I.Utils.deepCompareKeys(t,this.props.selectedRegions)||(this.props.onSelection(t),this.props.onFocusedCell((0,S.__assign)((0,S.__assign)({},Rt.getFocusCellCoordinatesFromRegion(e)),{focusSelectionIndex:0})))},t.defaultProps={selectedRegions:[]},t}(L.PureComponent),un=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={size:t.props.size,unclampedSize:t.props.size},t.onResizeMove=function(e,n){var o,r;t.offsetSize(n),null===(r=(o=t.props).onSizeChanged)||void 0===r||r.call(o,t.state.size)},t.onResizeEnd=function(e){var n,o;t.setState({unclampedSize:t.state.size}),null===(o=(n=t.props).onResizeEnd)||void 0===o||o.call(n,t.state.size)},t}return(0,S.__extends)(t,e),t.getDerivedStateFromProps=function(e,t){var n=e.size;return null==t?{size:n,unclampedSize:n}:null},t.prototype.componentDidUpdate=function(e){e.size!==this.props.size&&this.setState(t.getDerivedStateFromProps(this.props,null))},t.prototype.render=function(){var e=L.Children.only(this.props.children),t=(0,S.__assign)((0,S.__assign)({},e.props.style),this.getStyle());if(!1===this.props.isResizable)return L.cloneElement(e,{style:t});var n=this.renderResizeHandle();return L.cloneElement(e,{style:t,resizeHandle:n})},t.prototype.renderResizeHandle=function(){var e=this.props,t=e.onLayoutLock,n=e.onDoubleClick,o=e.orientation;return L.createElement($t,{key:"resize-handle",onDoubleClick:n,onLayoutLock:t,onResizeEnd:this.onResizeEnd,onResizeMove:this.onResizeMove,orientation:o})},t.prototype.getStyle=function(){return this.props.orientation===kt.VERTICAL?{flexBasis:"".concat(this.state.size,"px"),minWidth:"0px",width:"".concat(this.state.size,"px")}:{flexBasis:"".concat(this.state.size,"px"),height:"".concat(this.state.size,"px"),minHeight:"0px"}},t.prototype.offsetSize=function(e){var t=this.state.unclampedSize+e;this.setState({size:ft.clamp(t,this.props.minSize,this.props.maxSize),unclampedSize:t})},t.defaultProps={isResizable:!0,minSize:0},t}(I.AbstractPureComponent2),cn=["focusedCell","selectedRegions"],hn=function(e){function t(t){var n=e.call(this,t)||this;return n.activationIndex=null,n.convertEventToIndex=function(e){var t=n.props.getMouseCoordinate(e);return n.props.convertPointToIndex(t)},n.locateClick=function(e){return n.activationIndex=n.convertEventToIndex(e),n.props.toRegion(n.activationIndex)},n.locateDragForSelection=function(e,t,o){void 0===o&&(o=!1);var r=n.props.getDragCoordinate(t.current),l=n.props.convertPointToIndex(r);return o?n.props.toRegion(l):null!==n.activationIndex?n.props.toRegion(n.activationIndex,l):{}},n.locateDragForReordering=function(e,t){var o=n.props.getDragCoordinate(t.current),r=n.props.convertPointToIndex(o,!0);return r<0?void 0:r},n.renderCells=function(){for(var e=n.props,t=e.indexStart,o=e.indexEnd,r=[],l=t;l<=o;l++){var i=n.renderNewCell(l);null!=i&&r.push(i)}return r},n.renderNewCell=function(e){var t=n.props.getCellExtremaClasses(e,n.props.indexEnd);return(n.props.isGhostIndex(e)?n.props.ghostCellRenderer:n.renderCell)(e,t)},n.renderCell=function(e,t){var o,r,l=n.props,i=l.getIndexClass,a=l.selectedRegions,s=n.props.headerCellRenderer(e);if(null==s)return null;var d=null!=s.props.loading?s.props.loading:n.props.loading,u=n.props.isCellSelected(e),c=n.isEntireCellTargetReorderable(e),h=((r={className:H()(t,((o={})[ee]=c,o),n.props.getCellIndexClass(e),s.props.className),index:e})[n.props.headerCellIsSelectedPropName]=u,r[n.props.headerCellIsReorderablePropName]=c,r.loading=d,r.reorderHandle=n.maybeRenderReorderHandle(e),r),p=L.createElement(on,{enableMultipleSelection:n.props.enableMultipleSelection,disabled:n.isDragSelectableDisabled,focusedCell:n.props.focusedCell,ignoredSelectors:[".".concat(Te)],key:i(e),locateClick:n.locateClick,locateDrag:n.locateDragForSelection,onFocusedCell:n.props.onFocusedCell,onSelection:n.handleDragSelectableSelection,onSelectionEnd:n.handleDragSelectableSelectionEnd,selectedRegions:a,selectedRegionTransform:n.props.selectedRegionTransform},L.createElement(un,{isResizable:n.props.isResizable,maxSize:n.props.maxSize,minSize:n.props.minSize,onDoubleClick:function(){var t,o;return null===(o=(t=n.props).handleResizeDoubleClick)||void 0===o?void 0:o.call(t,e)},onLayoutLock:n.props.onLayoutLock,onResizeEnd:function(t){return n.props.handleResizeEnd(e,t)},onSizeChanged:function(t){return n.props.handleSizeChanged(e,t)},orientation:n.props.resizeOrientation,size:n.props.getCellSize(e)},L.cloneElement(s,h)));return n.isReorderHandleEnabled()?p:n.wrapInDragReorderable(e,p,n.isDragReorderableDisabled)},n.handleDragSelectableSelection=function(e){n.props.onSelection(e),n.setState({hasValidSelection:!1})},n.handleDragSelectableSelectionEnd=function(){n.activationIndex=null,n.setState({hasValidSelection:!0})},n.isDragSelectableDisabled=function(e){if(Ft.isAdditive(e))return!1;var t=n.convertEventToIndex(e);return n.isEntireCellTargetReorderable(t)},n.isDragReorderableDisabled=function(e){if(!n.isDragSelectableDisabled(e))return!0;var t=n.convertEventToIndex(e);return!n.isEntireCellTargetReorderable(t)},n.isEntireCellTargetReorderable=function(e){var t=n.props,o=t.isReorderable,r=void 0!==o&&o,l=t.selectedRegions;return r&&n.props.isCellSelected(e)&&n.state.hasValidSelection&&Rt.getRegionCardinality(l[0])===n.props.fullRegionCardinality&&1===l.length&&!n.isReorderHandleEnabled()},n.state={hasValidSelection:n.isSelectedRegionsControlledAndNonEmpty(t)},n}return(0,S.__extends)(t,e),t.prototype.componentDidUpdate=function(e,t){var n=this.isSelectedRegionsControlledAndNonEmpty(this.props);t.hasValidSelection!==n&&this.setState({hasValidSelection:n})},t.prototype.shouldComponentUpdate=function(e,t){return!I.Utils.shallowCompareKeys(this.state,t)||!I.Utils.shallowCompareKeys(this.props,e,{exclude:cn})||!I.Utils.deepCompareKeys(this.props,e,cn)},t.prototype.render=function(){return this.props.wrapCells(this.renderCells())},t.prototype.isSelectedRegionsControlledAndNonEmpty=function(e){return void 0===e&&(e=this.props),null!=e.selectedRegions&&e.selectedRegions.length>0},t.prototype.isReorderHandleEnabled=function(){return this.isColumnHeader()&&this.props.isReorderable},t.prototype.maybeRenderReorderHandle=function(e){return this.isReorderHandleEnabled()?this.wrapInDragReorderable(e,L.createElement("div",{className:Te},L.createElement("div",{className:H()(Ie,ct)},L.createElement(I.Icon,{icon:"drag-handle-vertical",title:"Press down to drag"}))),!1):void 0},t.prototype.isColumnHeader=function(){return this.props.fullRegionCardinality===dt.FULL_COLUMNS},t.prototype.wrapInDragReorderable=function(e,t,n){return L.createElement(dn,{disabled:n,key:this.props.getIndexClass(e),locateClick:this.locateClick,locateDrag:this.locateDragForReordering,onReordered:this.props.onReordered,onReordering:this.props.onReordering,onSelection:this.props.onSelection,onFocusedCell:this.props.onFocusedCell,selectedRegions:this.props.selectedRegions,toRegion:this.props.toRegion},t)},t}(L.Component),pn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wrapCells=function(e){var n=t.props,o=n.columnIndexStart,r=n.grid.getRect().width,l=t.props.grid.getCumulativeWidthBefore(o),i={transform:"translateX(".concat(l||0,"px)"),width:r-l},a=H()(je,P);return L.createElement("div",{style:{width:r}},L.createElement("div",{style:i,className:a,ref:t.props.measurableElementRef},e))},t.convertPointToColumn=function(e,n){return t.props.locator.convertPointToColumn(e,n)},t.getCellExtremaClasses=function(e,n){return t.props.grid.getExtremaClasses(0,e,1,n)},t.getColumnWidth=function(e){return t.props.grid.getColumnRect(e).width},t.getDragCoordinate=function(e){return e[0]},t.getMouseCoordinate=function(e){return e.clientX},t.handleResizeEnd=function(e,n){t.props.onResizeGuide(null),t.props.onColumnWidthChanged(e,n)},t.handleResizeDoubleClick=function(e){var n=t.props,o=n.minColumnWidth,r=n.maxColumnWidth,l=t.props.locator.getWidestVisibleCellInColumn(e),i=ft.clamp(l,o,r);t.props.onResizeGuide(null),t.props.onColumnWidthChanged(e,i)},t.handleSizeChanged=function(e,n){var o=t.props.grid.getColumnRect(e);t.props.onResizeGuide([o.left+n])},t.isCellSelected=function(e){return Rt.hasFullColumn(t.props.selectedRegions,e)},t.isGhostIndex=function(e){return t.props.grid.isGhostIndex(-1,e)},t.renderGhostCell=function(e,n){var o=t.props,r=o.grid,l=o.loading,i=r.getGhostCellRect(0,e),a={flexBasis:"".concat(i.width,"px"),width:"".concat(i.width,"px")};return L.createElement(sn,{className:H()(n),index:e,key:lt(e),loading:l,style:a})},t.toRegion=function(e,t){return Rt.column(e,t)},t}return(0,S.__extends)(t,e),t.prototype.componentDidMount=function(){var e,t;null===(t=(e=this.props).onMount)||void 0===t||t.call(e,"column")},t.prototype.render=function(){var e=this.props,t=e.cellRenderer,n=(e.onColumnWidthChanged,e.minColumnWidth),o=e.maxColumnWidth,r=(e.defaultColumnWidth,e.columnIndexStart),l=e.columnIndexEnd,i=(0,S.__rest)(e,["cellRenderer","onColumnWidthChanged","minColumnWidth","maxColumnWidth","defaultColumnWidth","columnIndexStart","columnIndexEnd"]);return L.createElement(hn,(0,S.__assign)({convertPointToIndex:this.convertPointToColumn,fullRegionCardinality:dt.FULL_COLUMNS,getCellExtremaClasses:this.getCellExtremaClasses,getCellIndexClass:at,getCellSize:this.getColumnWidth,getDragCoordinate:this.getDragCoordinate,getIndexClass:lt,getMouseCoordinate:this.getMouseCoordinate,ghostCellRenderer:this.renderGhostCell,handleResizeDoubleClick:this.handleResizeDoubleClick,handleResizeEnd:this.handleResizeEnd,handleSizeChanged:this.handleSizeChanged,headerCellIsReorderablePropName:"enableColumnReordering",headerCellIsSelectedPropName:"isColumnSelected",headerCellRenderer:t,indexEnd:l,indexStart:r,isCellSelected:this.isCellSelected,isGhostIndex:this.isGhostIndex,maxSize:o,minSize:n,resizeOrientation:kt.VERTICAL,selectedRegions:[],toRegion:this.toRegion,wrapCells:this.wrapCells},i))},t.defaultProps={isReorderable:!1,isResizable:!0,loading:!1},t}(L.Component),fn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,S.__extends)(t,e),t.prototype.render=function(){var e,t,n=this.props,o=(n.enableRowReordering,n.isRowSelected,n.name),r=n.nameRenderer,l=(0,S.__rest)(n,["enableRowReordering","isRowSelected","name","nameRenderer"]),i=L.createElement("div",{className:We},o),a=L.createElement(ut,{loading:null!==(e=l.loading)&&void 0!==e&&e},null!==(t=null==r?void 0:r(o,l.index))&&void 0!==t?t:i);return L.createElement(ln,(0,S.__assign)({isReorderable:this.props.enableRowReordering,isSelected:this.props.isRowSelected},l),L.createElement("div",{className:Ue},a),this.props.children,l.loading?void 0:l.resizeHandle)},t}(I.AbstractPureComponent2),gn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wrapCells=function(e){var n=t.props,o=n.rowIndexStart,r=n.grid.getRect().height,l=t.props.grid.getCumulativeHeightBefore(o),i={height:r-l,transform:"translateY(".concat(l||0,"px)")};return L.createElement("div",{style:{height:r}},L.createElement("div",{className:ke,style:i},e))},t.convertPointToRow=function(e,n){var o;return null===(o=t.props.locator)||void 0===o?void 0:o.convertPointToRow(e,n)},t.getCellExtremaClasses=function(e,n){return t.props.grid.getExtremaClasses(e,0,n,1)},t.getRowHeight=function(e){return t.props.grid.getRowRect(e).height},t.getDragCoordinate=function(e){return e[1]},t.getMouseCoordinate=function(e){return e.clientY},t.handleResizeEnd=function(e,n){t.props.onResizeGuide(null),t.props.onRowHeightChanged(e,n)},t.handleSizeChanged=function(e,n){var o=t.props.grid.getRowRect(e);t.props.onResizeGuide([o.top+n])},t.isCellSelected=function(e){return Rt.hasFullRow(t.props.selectedRegions,e)},t.isGhostIndex=function(e){return t.props.grid.isGhostIndex(e,-1)},t.renderGhostCell=function(e,n){var o=t.props.grid.getGhostCellRect(e,0);return L.createElement(fn,{className:H()(n),index:e,key:it(e),loading:t.props.loading,style:{height:"".concat(o.height,"px")}})},t.toRegion=function(e,t){return Rt.row(e,t)},t}return(0,S.__extends)(t,e),t.prototype.componentDidMount=function(){var e,t;null===(t=(e=this.props).onMount)||void 0===t||t.call(e,"row")},t.prototype.render=function(){var e=this.props,t=(e.onRowHeightChanged,e.rowHeaderCellRenderer),n=e.minRowHeight,o=e.maxRowHeight,r=(e.defaultRowHeight,e.rowIndexStart),l=e.rowIndexEnd,i=(0,S.__rest)(e,["onRowHeightChanged","rowHeaderCellRenderer","minRowHeight","maxRowHeight","defaultRowHeight","rowIndexStart","rowIndexEnd"]);return L.createElement(hn,(0,S.__assign)({convertPointToIndex:this.convertPointToRow,fullRegionCardinality:dt.FULL_ROWS,getCellExtremaClasses:this.getCellExtremaClasses,getCellIndexClass:st,getCellSize:this.getRowHeight,getDragCoordinate:this.getDragCoordinate,getIndexClass:it,getMouseCoordinate:this.getMouseCoordinate,ghostCellRenderer:this.renderGhostCell,handleResizeEnd:this.handleResizeEnd,handleSizeChanged:this.handleSizeChanged,headerCellIsReorderablePropName:"enableRowReordering",headerCellIsSelectedPropName:"isRowSelected",headerCellRenderer:t,indexEnd:l,indexStart:r,isCellSelected:this.isCellSelected,isGhostIndex:this.isGhostIndex,maxSize:o,minSize:n,resizeOrientation:kt.HORIZONTAL,selectedRegions:[],toRegion:this.toRegion,wrapCells:this.wrapCells},i))},t.defaultProps={rowHeaderCellRenderer:mn},t}(L.Component);function mn(e){return L.createElement(fn,{index:e,name:"".concat(e+1)})}var vn=function(e){function t(t){var n=e.call(this,t)||this;return n.handleEdit=function(){n.setState({isEditing:!0,dirtyName:n.state.savedName})},n.handleCancel=function(e){var t,o;n.setState({isEditing:!1,dirtyName:void 0}),null===(o=(t=n.props).onCancel)||void 0===o||o.call(t,e,n.props.index)},n.handleChange=function(e){var t,o;n.setState({dirtyName:e}),null===(o=(t=n.props).onChange)||void 0===o||o.call(t,e,n.props.index)},n.handleConfirm=function(e){var t,o;n.setState({isEditing:!1,savedName:e,dirtyName:void 0}),null===(o=(t=n.props).onConfirm)||void 0===o||o.call(t,e,n.props.index)},n.state={dirtyName:t.name,isEditing:!1,savedName:t.name},n}return(0,S.__extends)(t,e),t.prototype.componentDidUpdate=function(e){var t=this.props.name;t!==e.name&&this.setState({savedName:t,dirtyName:t})},t.prototype.render=function(){var e=this.props,t=e.className,n=e.intent,o=e.name,r=this.state,l=r.isEditing,i=r.dirtyName,a=r.savedName;return L.createElement(I.EditableText,{className:H()(t,q),defaultValue:o,intent:n,minWidth:0,onCancel:this.handleCancel,onChange:this.handleChange,onConfirm:this.handleConfirm,onEdit:this.handleEdit,placeholder:"",selectAllOnFocus:!0,value:l?i:a})},t}(L.PureComponent),Cn=a(820),Rn=a.n(Cn);function yn(e,t,n,o,r,l,i){void 0===l&&(l=0),void 0===i&&(i=0);var a=Rt.getRegionCardinality(e),s=n,d=t,u=o(i),c=r(l);switch(a){case dt.CELLS:var h=r(e.rows[0]),p=o(e.cols[0]);s=bn(h,c),d=bn(p,u);break;case dt.FULL_ROWS:s=bn(h=r(e.rows[0]),c);break;case dt.FULL_COLUMNS:d=bn(p=o(e.cols[0]),u);break;default:s=0,d=0}return{scrollLeft:d,scrollTop:s}}function wn(e,t){return null==e?0:"horizontal"===t?e.offsetHeight-e.clientHeight:e.offsetWidth-e.clientWidth}function bn(e,t){return Math.max(e-t,0)}var Sn,En=function(){function e(){}return e.attach=function(t,n){var o=e.debounce(n),r=document.createElement("div");r.className=Oe,r.style.cssText=e.RESIZE_SENSOR_STYLE,r.innerHTML=e.RESIZE_SENSOR_HTML,t.appendChild(r),"static"===getComputedStyle(t,null).getPropertyValue("position")&&(t.style.position="relative");var l,i,a=r.childNodes[0],s=a.childNodes[0],d=r.childNodes[1],u=function(){s.style.width="100000px",s.style.height="100000px",a.scrollLeft=1e5,a.scrollTop=1e5,d.scrollLeft=1e5,d.scrollTop=1e5};u();var c=function(){if(null!=t){var e=t.offsetWidth,n=t.offsetHeight;e===l&&n===i||(l=e,i=n,o.trigger()),u()}};return a.addEventListener("scroll",c),d.addEventListener("scroll",c),function(){t.removeChild(r),o.cancelled=!0}},e.debounce=function(e){var t={cancelled:!1,trigger:function(){t.triggered||t.cancelled||(t.triggered=!0,requestAnimationFrame((function(){t.triggered=!1,t.cancelled||e()})))},triggered:!1};return t},e.RESIZE_SENSOR_STYLE="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;",e.RESIZE_SENSOR_HTML='<div class="'.concat(Ae,'"\n        style="').concat(e.RESIZE_SENSOR_STYLE,'"><div style="position: absolute; left: 0; top: 0; transition: 0s;"\n        ></div></div><div class="').concat(ze,'" style="').concat(e.RESIZE_SENSOR_STYLE,'"\n        ><div style="position: absolute; left: 0; top: 0; transition: 0s; width: 200%; height: 200%;"></div></div>'),e}(),Hn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderVerticalGuide=function(e,t){var n,o={left:"".concat(e,"px")},r=H()(pe,ot,((n={})["".concat(ot,"-flush-left")]=0===e,n));return L.createElement("div",{className:r,key:t,style:o})},t.renderHorizontalGuide=function(e,t){var n,o={top:"".concat(e,"px")},r=H()(pe,oe,((n={})["".concat(oe,"-flush-top")]=0===e,n));return L.createElement("div",{className:r,key:t,style:o})},t}return(0,S.__extends)(t,e),t.prototype.shouldComponentUpdate=function(e){return this.props.className!==e.className||!I.Utils.arraysEqual(this.props.verticalGuides,e.verticalGuides)||!I.Utils.arraysEqual(this.props.horizontalGuides,e.horizontalGuides)},t.prototype.render=function(){var e=this.props,t=e.verticalGuides,n=e.horizontalGuides,o=e.className,r=null==t?void 0:t.map(this.renderVerticalGuide),l=null==n?void 0:n.map(this.renderHorizontalGuide);return L.createElement("div",{className:H()(o,fe)},r,l)},t}(L.Component),Ln=["className"],In=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderRegion=function(e,n){var o=t.props,r=o.className,l=o.regionStyles;return L.createElement("div",{className:H()(pe,Le,r),key:n,style:void 0===l?void 0:l[n]})},t}return(0,S.__extends)(t,e),t.prototype.shouldComponentUpdate=function(e){var t,n,o,r;return!I.Utils.arraysEqual(null!==(t=this.props.regions)&&void 0!==t?t:[],null!==(n=e.regions)&&void 0!==n?n:[],Rt.regionsEqual)||!I.Utils.arraysEqual(null!==(o=this.props.regionStyles)&&void 0!==o?o:[],null!==(r=e.regionStyles)&&void 0!==r?r:[],I.Utils.shallowCompareKeys)||!I.Utils.shallowCompareKeys(this.props,e,{include:Ln})},t.prototype.render=function(){return L.createElement("div",{className:fe},this.renderRegionChildren())},t.prototype.renderRegionChildren=function(){var e=this.props.regions;if(null!=e)return e.map(this.renderRegion)},t}(L.Component);!function(e){e.MAIN="main",e.TOP="top",e.LEFT="left",e.TOP_LEFT="top-left"}(Sn||(Sn={}));var Tn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,S.__extends)(t,e),t.prototype.render=function(){var e,t,n,o,r,l,i=this.props,a=i.grid,s=i.enableRowHeader,d=i.quadrantType,u=i.bodyRenderer,c=i.enableColumnHeader,h=d===Sn.TOP||d===Sn.TOP_LEFT,p=d===Sn.LEFT||d===Sn.TOP_LEFT,f=H()(Ce,this.getQuadrantCssClass(),this.props.className),g=s&&(null===(t=(e=this.props).menuRenderer)||void 0===t?void 0:t.call(e)),m=s&&(null===(o=(n=this.props).rowHeaderCellRenderer)||void 0===o?void 0:o.call(n,h)),v=c&&(null===(l=(r=this.props).columnHeaderCellRenderer)||void 0===l?void 0:l.call(r,p)),C=u(d,h,p),R={height:a.getHeight(),width:a.getWidth()};return L.createElement("div",{className:f,style:this.props.style,ref:this.props.quadrantRef},L.createElement("div",{className:be,ref:this.props.scrollContainerRef,onScroll:this.props.onScroll,onWheel:this.props.onWheel},L.createElement("div",{className:Ye},g,v),L.createElement("div",{className:M,style:R},m,L.createElement("div",{className:Re,ref:this.props.bodyRef},C))))},t.prototype.validateProps=function(e){var t=e.quadrantType;null!=e.onScroll&&null!=t&&t!==Sn.MAIN&&console.warn("[Blueprint Table] TableQuadrant onScroll need not be defined for any quadrant aside from the MAIN quadrant.")},t.prototype.getQuadrantCssClass=function(){switch(this.props.quadrantType){case Sn.MAIN:return we;case Sn.TOP:return Ee;case Sn.LEFT:return ye;case Sn.TOP_LEFT:return He;default:return}},t.defaultProps={enableColumnHeader:!0,enableRowHeader:!0},t}(I.AbstractComponent2),xn=function(){function e(){this.cachedRowHeaderWidth=0,this.cachedColumnHeaderHeight=0,this.cachedScrollLeft=0,this.cachedScrollTop=0,this.reset()}return e.prototype.reset=function(){this.cachedRowHeaderWidth=0,this.cachedColumnHeaderHeight=0,this.cachedScrollLeft=0,this.cachedScrollTop=0},e.prototype.getScrollOffset=function(e){return"scrollLeft"===e?this.cachedScrollLeft:this.cachedScrollTop},e.prototype.getRowHeaderWidth=function(){return this.cachedRowHeaderWidth},e.prototype.getColumnHeaderHeight=function(){return this.cachedColumnHeaderHeight},e.prototype.getScrollContainerClientWidth=function(){return this.cachedScrollContainerClientWidth},e.prototype.getScrollContainerClientHeight=function(){return this.cachedScrollContainerClientHeight},e.prototype.setColumnHeaderHeight=function(e){this.cachedColumnHeaderHeight=e},e.prototype.setRowHeaderWidth=function(e){this.cachedRowHeaderWidth=e},e.prototype.setScrollOffset=function(e,t){"scrollLeft"===e?this.cachedScrollLeft=t:this.cachedScrollTop=t},e.prototype.setScrollContainerClientWidth=function(e){this.cachedScrollContainerClientWidth=e},e.prototype.setScrollContainerClientHeight=function(e){this.cachedScrollContainerClientHeight=e},e}(),_n=["enableRowHeader","loadingOptions","numFrozenColumns","numFrozenRows","numColumns","numRows","enableColumnInteractionBar","didHeadersMount","enableColumnHeader"],Mn=function(e){function t(t,n){var o,r,l=e.call(this,t,n)||this;return l.quadrantRefs=((o={})[Sn.MAIN]={},o[Sn.TOP]={},o[Sn.LEFT]={},o[Sn.TOP_LEFT]={},o),l.quadrantRefHandlers=((r={})[Sn.MAIN]=l.generateQuadrantRefHandlers(Sn.MAIN),r[Sn.TOP]=l.generateQuadrantRefHandlers(Sn.TOP),r[Sn.LEFT]=l.generateQuadrantRefHandlers(Sn.LEFT),r[Sn.TOP_LEFT]=l.generateQuadrantRefHandlers(Sn.TOP_LEFT),r),l.wasMainQuadrantScrollTriggeredByWheelEvent=!1,l.renderMainQuadrantMenu=function(){var e,t;return null===(t=(e=l.props).menuRenderer)||void 0===t?void 0:t.call(e,l.quadrantRefHandlers[Sn.MAIN].menu)},l.renderTopQuadrantMenu=function(){var e,t;return null===(t=(e=l.props).menuRenderer)||void 0===t?void 0:t.call(e,l.quadrantRefHandlers[Sn.TOP].menu)},l.renderLeftQuadrantMenu=function(){var e,t;return null===(t=(e=l.props).menuRenderer)||void 0===t?void 0:t.call(e,l.quadrantRefHandlers[Sn.LEFT].menu)},l.renderTopLeftQuadrantMenu=function(){var e,t;return null===(t=(e=l.props).menuRenderer)||void 0===t?void 0:t.call(e,l.quadrantRefHandlers[Sn.TOP_LEFT].menu)},l.renderMainQuadrantColumnHeader=function(e){var t,n,o=l.quadrantRefHandlers[Sn.MAIN].columnHeader,r=l.handleColumnResizeGuideMain,i=l.handleColumnsReordering;if(void 0!==o)return null===(n=(t=l.props).columnHeaderRenderer)||void 0===n?void 0:n.call(t,o,r,i,e)},l.renderTopQuadrantColumnHeader=function(e){var t,n,o=l.quadrantRefHandlers[Sn.TOP].columnHeader,r=l.handleColumnResizeGuideTop,i=l.handleColumnsReordering;if(void 0!==o)return null===(n=(t=l.props).columnHeaderRenderer)||void 0===n?void 0:n.call(t,o,r,i,e)},l.renderLeftQuadrantColumnHeader=function(e){var t,n,o=l.quadrantRefHandlers[Sn.LEFT].columnHeader,r=l.handleColumnResizeGuideLeft,i=l.handleColumnsReordering;if(void 0!==o)return null===(n=(t=l.props).columnHeaderRenderer)||void 0===n?void 0:n.call(t,o,r,i,e)},l.renderTopLeftQuadrantColumnHeader=function(e){var t,n,o=l.quadrantRefHandlers[Sn.TOP_LEFT].columnHeader,r=l.handleColumnResizeGuideTopLeft,i=l.handleColumnsReordering;if(void 0!==o)return null===(n=(t=l.props).columnHeaderRenderer)||void 0===n?void 0:n.call(t,o,r,i,e)},l.renderMainQuadrantRowHeader=function(e){var t,n,o=l.quadrantRefHandlers[Sn.MAIN].rowHeader;if(void 0!==o)return null===(n=(t=l.props).rowHeaderRenderer)||void 0===n?void 0:n.call(t,o,l.handleRowResizeGuideMain,l.handleRowsReordering,e)},l.renderTopQuadrantRowHeader=function(e){var t,n,o=l.quadrantRefHandlers[Sn.TOP].rowHeader;if(void 0!==o)return null===(n=(t=l.props).rowHeaderRenderer)||void 0===n?void 0:n.call(t,o,l.handleRowResizeGuideTop,l.handleRowsReordering,e)},l.renderLeftQuadrantRowHeader=function(e){var t,n,o=l.quadrantRefHandlers[Sn.LEFT].rowHeader;if(void 0!==o)return null===(n=(t=l.props).rowHeaderRenderer)||void 0===n?void 0:n.call(t,o,l.handleRowResizeGuideLeft,l.handleRowsReordering,e)},l.renderTopLeftQuadrantRowHeader=function(e){var t,n,o=l.quadrantRefHandlers[Sn.TOP_LEFT].rowHeader;if(void 0!==o)return null===(n=(t=l.props).rowHeaderRenderer)||void 0===n?void 0:n.call(t,o,l.handleRowResizeGuideTopLeft,l.handleRowsReordering,e)},l.handleMainQuadrantScroll=function(e){var t,n;if(l.wasMainQuadrantScrollTriggeredByWheelEvent)l.wasMainQuadrantScrollTriggeredByWheelEvent=!1;else{var o=l.quadrantRefs[Sn.MAIN].scrollContainer;if(null!=o){null===(n=(t=l.props).onScroll)||void 0===n||n.call(t,e);var r=o.scrollLeft,i=o.scrollTop;l.handleScrollOffsetChange("scrollLeft",r),l.handleScrollOffsetChange("scrollTop",i),l.syncQuadrantViewsDebounced()}}},l.handleWheel=function(e){var t,n;null===(n=(t=l.props).onScroll)||void 0===n||n.call(t,e);var o=l.getNextScrollOffset("horizontal",e.deltaX),r=l.getNextScrollOffset("vertical",e.deltaY);null==o&&null==r||(l.wasMainQuadrantScrollTriggeredByWheelEvent=!0),void 0!==o&&(l.quadrantRefs[Sn.MAIN].scrollContainer.scrollLeft=o,l.handleScrollOffsetChange("scrollLeft",o)),void 0!==r&&(l.quadrantRefs[Sn.MAIN].scrollContainer.scrollTop=r,l.handleScrollOffsetChange("scrollTop",r)),l.syncQuadrantViewsDebounced()},l.getNextScrollOffset=function(e,t){var n=l.props,o=n.grid,r=n.isHorizontalScrollDisabled,i=n.isVerticalScrollDisabled,a="horizontal"===e,s=a?"scrollLeft":"scrollTop";if(!(a?r:i)){var d=a?l.cache.getScrollContainerClientWidth():l.cache.getScrollContainerClientHeight();null==d&&(d=l.updateScrollContainerClientSize(a));var u=a?l.cache.getScrollContainerClientWidth()-l.cache.getRowHeaderWidth():l.cache.getScrollContainerClientHeight()-l.cache.getColumnHeaderHeight(),c=a?o.getWidth():o.getHeight(),h=Math.max(0,c-u),p=l.cache.getScrollOffset(s);return I.Utils.clamp(p+t,0,h)}},l.handleColumnResizeGuideMain=function(e){l.invokeColumnResizeHandler(e,Sn.MAIN)},l.handleColumnResizeGuideTop=function(e){l.invokeColumnResizeHandler(e,Sn.TOP)},l.handleColumnResizeGuideLeft=function(e){l.invokeColumnResizeHandler(e,Sn.LEFT)},l.handleColumnResizeGuideTopLeft=function(e){l.invokeColumnResizeHandler(e,Sn.TOP_LEFT)},l.invokeColumnResizeHandler=function(e,t){var n,o,r=l.adjustVerticalGuides(e,t);null===(o=(n=l.props).handleColumnResizeGuide)||void 0===o||o.call(n,r)},l.handleRowResizeGuideMain=function(e){l.invokeRowResizeHandler(e,Sn.MAIN)},l.handleRowResizeGuideTop=function(e){l.invokeRowResizeHandler(e,Sn.TOP)},l.handleRowResizeGuideLeft=function(e){l.invokeRowResizeHandler(e,Sn.LEFT)},l.handleRowResizeGuideTopLeft=function(e){l.invokeRowResizeHandler(e,Sn.TOP_LEFT)},l.invokeRowResizeHandler=function(e,t){var n,o,r=l.adjustHorizontalGuides(e,t);null===(o=(n=l.props).handleRowResizeGuide)||void 0===o||o.call(n,r)},l.handleColumnsReordering=function(e,t,n){var o,r,i=ft.reorderedIndexToGuideIndex(e,t,n),a=l.props.grid.getCumulativeWidthBefore(i),s=l.props.numFrozenColumns,d=i<=(void 0===s?0:s)?Sn.TOP_LEFT:Sn.TOP,u=l.adjustVerticalGuides([a],d);null===(r=(o=l.props).handleColumnsReordering)||void 0===r||r.call(o,u)},l.handleRowsReordering=function(e,t,n){var o,r,i=ft.reorderedIndexToGuideIndex(e,t,n),a=l.props.grid.getCumulativeHeightBefore(i),s=l.props.numFrozenRows,d=i<=(void 0===s?0:s)?Sn.TOP_LEFT:Sn.LEFT,u=l.adjustHorizontalGuides([a],d);null===(r=(o=l.props).handleRowsReordering)||void 0===r||r.call(o,u)},l.syncQuadrantViewsDebounced=function(){var e,t=l.props.viewSyncDelay;t<0?l.syncQuadrantViews():(null===(e=l.cancelPendingViewSync)||void 0===e||e.call(l),l.cancelPendingViewSync=l.setTimeout(l.syncQuadrantViews,t))},l.syncQuadrantViews=function(){var e=l.quadrantRefs[Sn.MAIN].scrollContainer,t=l.measureDesiredRowHeaderWidth(),n=l.measureDesiredColumnHeaderHeight(),o=t+l.getSecondaryQuadrantGridSize("width"),r=n+l.getSecondaryQuadrantGridSize("height"),i=wn(e,"vertical"),a=wn(e,"horizontal"),s=l.maybeIncreaseToMinColHeaderHeight(n),d=l.maybeIncreaseToMinColHeaderHeight(r);l.cache.setRowHeaderWidth(t),l.cache.setColumnHeaderHeight(n),l.cache.setScrollContainerClientWidth(void 0),l.cache.setScrollContainerClientHeight(void 0),l.maybesSetQuadrantRowHeaderSizes(t),l.maybeSetQuadrantMenuElementSizes(t,s),l.maybeSetQuadrantSizes(o,d),l.maybeSetQuadrantPositionOffset(Sn.TOP,"right",i),l.maybeSetQuadrantPositionOffset(Sn.LEFT,"bottom",a),l.maybeSetQuadrantScrollOffset(Sn.LEFT,"scrollTop"),l.maybeSetQuadrantScrollOffset(Sn.TOP,"scrollLeft")},l.maybeSetQuadrantSizes=function(e,t){var n=ft.clamp(e,l.props.enableRowHeader?Et.MIN_ROW_HEADER_WIDTH:0),o=ft.clamp(t,l.props.enableColumnHeader?Et.MIN_COLUMN_HEADER_HEIGHT:0);l.maybesSetQuadrantSize(Sn.LEFT,"width",n),l.maybesSetQuadrantSize(Sn.TOP,"height",o),l.maybesSetQuadrantSize(Sn.TOP_LEFT,"width",n),l.maybesSetQuadrantSize(Sn.TOP_LEFT,"height",o)},l.maybesSetQuadrantSize=function(e,t,n){var o=l.quadrantRefs[e].quadrant;null!=o&&(o.style[t]="".concat(n,"px"))},l.maybeSetQuadrantPositionOffset=function(e,t,n){var o=l.quadrantRefs[e].quadrant;null!=o&&(o.style[t]="".concat(n,"px"))},l.maybesSetQuadrantRowHeaderSizes=function(e){var t=ft.clamp(e,l.props.enableRowHeader?Et.MIN_ROW_HEADER_WIDTH:0);l.maybeSetQuadrantRowHeaderSize(Sn.MAIN,t),l.maybeSetQuadrantRowHeaderSize(Sn.TOP,t),l.maybeSetQuadrantRowHeaderSize(Sn.LEFT,t),l.maybeSetQuadrantRowHeaderSize(Sn.TOP_LEFT,t)},l.maybeSetQuadrantRowHeaderSize=function(e,t){var n=l.quadrantRefs[e].rowHeader;null!=n&&(n.style.width="".concat(t,"px"))},l.maybeSetQuadrantMenuElementSizes=function(e,t){var n=ft.clamp(e,l.props.enableRowHeader?Et.MIN_ROW_HEADER_WIDTH:0);l.maybeSetQuadrantMenuElementSize(Sn.MAIN,n,t),l.maybeSetQuadrantMenuElementSize(Sn.TOP,n,t),l.maybeSetQuadrantMenuElementSize(Sn.LEFT,n,t),l.maybeSetQuadrantMenuElementSize(Sn.TOP_LEFT,n,t)},l.maybeSetQuadrantMenuElementSize=function(e,t,n){var o=l.quadrantRefs[e].menu;null!=o&&(o.style.width="".concat(t,"px"),o.style.height="".concat(n,"px"))},l.maybeSetQuadrantScrollOffset=function(e,t,n){var o=l.quadrantRefs[e].scrollContainer,r=null!=n?n:l.cache.getScrollOffset(t);null!=o&&(o[t]=r)},l.handleScrollOffsetChange=function(e,t){l.cache.setScrollOffset(e,t);var n="scrollLeft"===e?Sn.TOP:Sn.LEFT;l.maybeSetQuadrantScrollOffset(n,e)},l.throttledHandleMainQuadrantScroll=I.Utils.throttleReactEventCallback(l.handleMainQuadrantScroll),l.throttledHandleWheel=I.Utils.throttleReactEventCallback(l.handleWheel),l.cache=new xn,l}return(0,S.__extends)(t,e),t.prototype.scrollToPosition=function(e,t){var n=this.quadrantRefs[Sn.MAIN].scrollContainer;null!=n&&(this.wasMainQuadrantScrollTriggeredByWheelEvent=!1,n.scrollLeft=e,n.scrollTop=t,this.syncQuadrantViews())},t.prototype.synchronizeQuadrantViews=function(){this.syncQuadrantViews()},t.prototype.componentDidMount=function(){this.emitRefs(),this.syncQuadrantViews()},t.prototype.componentDidUpdate=function(e){(!I.Utils.shallowCompareKeys(this.props,e,{include:_n})||this.didFrozenColumnWidthsChange(e)||this.didFrozenRowHeightsChange(e))&&(this.emitRefs(),this.syncQuadrantViews())},t.prototype.render=function(){var e=this.props,t=e.grid,n=e.enableRowHeader,o=e.bodyRenderer,r=e.throttleScrolling,l=e.enableColumnHeader,i=r?this.throttledHandleMainQuadrantScroll:this.handleMainQuadrantScroll,a={bodyRenderer:o,enableColumnHeader:l,enableRowHeader:n,grid:t,onWheel:r?this.throttledHandleWheel:this.handleWheel},s=this.shouldRenderLeftQuadrants(),d=s?L.createElement(Tn,(0,S.__assign)({},a,{quadrantRef:this.quadrantRefHandlers[Sn.LEFT].quadrant,quadrantType:Sn.LEFT,columnHeaderCellRenderer:this.renderLeftQuadrantColumnHeader,menuRenderer:this.renderLeftQuadrantMenu,rowHeaderCellRenderer:this.renderLeftQuadrantRowHeader,scrollContainerRef:this.quadrantRefHandlers[Sn.LEFT].scrollContainer})):void 0,u=s?L.createElement(Tn,(0,S.__assign)({},a,{quadrantRef:this.quadrantRefHandlers[Sn.TOP_LEFT].quadrant,quadrantType:Sn.TOP_LEFT,columnHeaderCellRenderer:this.renderTopLeftQuadrantColumnHeader,menuRenderer:this.renderTopLeftQuadrantMenu,rowHeaderCellRenderer:this.renderTopLeftQuadrantRowHeader,scrollContainerRef:this.quadrantRefHandlers[Sn.TOP_LEFT].scrollContainer})):void 0;return L.createElement("div",{className:Se},L.createElement(Tn,(0,S.__assign)({},a,{bodyRef:this.props.bodyRef,onScroll:i,quadrantRef:this.quadrantRefHandlers[Sn.MAIN].quadrant,quadrantType:Sn.MAIN,columnHeaderCellRenderer:this.renderMainQuadrantColumnHeader,menuRenderer:this.renderMainQuadrantMenu,rowHeaderCellRenderer:this.renderMainQuadrantRowHeader,scrollContainerRef:this.quadrantRefHandlers[Sn.MAIN].scrollContainer})),L.createElement(Tn,(0,S.__assign)({},a,{quadrantRef:this.quadrantRefHandlers[Sn.TOP].quadrant,quadrantType:Sn.TOP,columnHeaderCellRenderer:this.renderTopQuadrantColumnHeader,menuRenderer:this.renderTopQuadrantMenu,rowHeaderCellRenderer:this.renderTopQuadrantRowHeader,scrollContainerRef:this.quadrantRefHandlers[Sn.TOP].scrollContainer})),d,u)},t.prototype.generateQuadrantRefHandlers=function(e){var t=this;return["columnHeader","menu","quadrant","rowHeader","scrollContainer"].reduce((function(n,o){return n[o]=function(n){return t.quadrantRefs[e][o]=n},n}),{})},t.prototype.emitRefs=function(){(0,I.setRef)(this.props.quadrantRef,this.quadrantRefs[Sn.MAIN].quadrant),(0,I.setRef)(this.props.rowHeaderRef,this.quadrantRefs[Sn.MAIN].rowHeader),(0,I.setRef)(this.props.columnHeaderRef,this.quadrantRefs[Sn.MAIN].columnHeader),(0,I.setRef)(this.props.scrollContainerRef,this.quadrantRefs[Sn.MAIN].scrollContainer)},t.prototype.updateScrollContainerClientSize=function(e){var t=this.quadrantRefs[Sn.MAIN].scrollContainer;return e?(this.cache.setScrollContainerClientWidth(null==t?void 0:t.clientWidth),this.cache.getScrollContainerClientWidth()):(this.cache.setScrollContainerClientHeight(null==t?void 0:t.clientHeight),this.cache.getScrollContainerClientHeight())},t.prototype.maybeIncreaseToMinColHeaderHeight=function(e){return this.props.enableColumnHeader&&e<=1?Et.MIN_COLUMN_HEADER_HEIGHT:e},t.prototype.didFrozenColumnWidthsChange=function(e){return this.props.numFrozenColumns>0&&this.props.grid!==e.grid&&this.props.grid.getCumulativeWidthAt(this.props.numFrozenColumns-1)!==e.grid.getCumulativeWidthAt(e.numFrozenColumns-1)},t.prototype.didFrozenRowHeightsChange=function(e){return this.props.numFrozenRows>0&&this.props.grid!==e.grid&&this.props.grid.getCumulativeHeightAt(this.props.numFrozenRows-1)!==e.grid.getCumulativeHeightAt(e.numFrozenRows-1)},t.prototype.getSecondaryQuadrantGridSize=function(e){var t,n=this.props,o=n.grid,r=n.numFrozenColumns,l=n.numFrozenRows,i=null!==(t="width"===e?r:l)&&void 0!==t?t:0,a="width"===e?o.getCumulativeWidthAt:o.getCumulativeHeightAt;return i>0?a(i-1):1},t.prototype.measureDesiredRowHeaderWidth=function(){var e=this.quadrantRefs[Sn.MAIN].rowHeader;return null==e?0:(e.style.width="auto",ft.clamp(e.clientWidth,Et.MIN_ROW_HEADER_WIDTH))},t.prototype.measureDesiredColumnHeaderHeight=function(){var e=this.quadrantRefs[Sn.MAIN].columnHeader;return null==e?0:ft.clamp(e.clientHeight,Et.MIN_COLUMN_HEADER_HEIGHT)},t.prototype.shouldRenderLeftQuadrants=function(e){void 0===e&&(e=this.props);var t=e.enableRowHeader,n=e.numFrozenColumns;return t||null!=n&&n>0},t.prototype.adjustVerticalGuides=function(e,t){var n,o=t===Sn.LEFT||t===Sn.TOP_LEFT?0:this.cache.getScrollOffset("scrollLeft"),r=this.cache.getRowHeaderWidth();return null!==(n=null==e?void 0:e.map((function(e){return e-o+r})))&&void 0!==n?n:[]},t.prototype.adjustHorizontalGuides=function(e,t){var n,o=t===Sn.TOP||t===Sn.TOP_LEFT?0:this.cache.getScrollOffset("scrollTop"),r=this.cache.getColumnHeaderHeight();return null!==(n=null==e?void 0:e.map((function(e){return e-o+r})))&&void 0!==n?n:[]},t.defaultProps={enableColumnHeader:!0,enableColumnInteractionBar:void 0,enableRowHeader:!0,isHorizontalScrollDisabled:!1,isVerticalScrollDisabled:!1,throttleScrolling:!0,viewSyncDelay:500},t}(I.AbstractComponent2),Fn={getApproximateCharWidth:8,getApproximateLineHeight:18,getCellHorizontalPadding:2*Ht.CELL_HORIZONTAL_PADDING,getNumBufferLines:1};function Dn(e,t,n){return Object.keys(Fn).reduce((function(o,r){var l=null==e?void 0:e[r];return o[r]="function"==typeof l?l(t,n):null!=l?l:Fn[r],o}),{})}function On(e,t,n,o){for(var r=t.length,l=[],i=0;i<e;i++){for(var a=0,s=0;s<r;s++){var d=Dn(o,i,s),u=d.getApproximateCharWidth,c=d.getApproximateLineHeight,h=d.getCellHorizontalPadding,p=d.getNumBufferLines,f=n(i,s),g=ft.getApproxCellHeight(f,t[s],u,c,h,p);g>a&&(a=g)}l.push(a)}return l}function An(e,t,n,o,r){var l=0;if(void 0===r)for(var i=e.getColumnIndicesInRect(t),a=i.columnIndexStart;a<=i.columnIndexEnd;a++)l=Math.max(l,n.getTallestVisibleCellInColumn(a));else{var s=(Array.isArray(r)?r:[r]).map((function(e){return n.getTallestVisibleCellInColumn(e)}));l=Math.max.apply(Math,s)}return Array(o).fill(l)}var zn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,S.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.children,o=e.style;return L.createElement("div",{className:t,style:o},n)},t.prototype.renderContextMenu=function(e){return this.props.renderContextMenu(e)},(0,S.__decorate)([I.ContextMenuTarget],t)}(L.PureComponent),Nn=function(){function e(e,t,n,o){this.target=e,this.selectedRegions=t,this.numRows=n,this.numCols=o,this.regions=Rt.overlapsRegion(t,e)?t:[e]}return e.prototype.getTarget=function(){return this.target},e.prototype.getSelectedRegions=function(){return this.selectedRegions},e.prototype.getRegions=function(){return this.regions},e.prototype.getUniqueCells=function(){return Rt.enumerateUniqueCells(this.regions,this.numRows,this.numCols)},e}(),Pn="blueprint-table-post-message",kn={callbacks:[],triggered:!1};"undefined"!=typeof window&&null!=window.addEventListener&&window.addEventListener("message",(function(e){if(e.source===window&&e.data===Pn){kn.triggered=!1;var t=null;kn.callbacks.length>0&&(t=kn.callbacks.shift()),kn.callbacks.length>0&&Un(),t&&t()}}),!1);var Un=function(){kn.triggered||(kn.triggered=!0,requestAnimationFrame((function(){requestAnimationFrame((function(){postMessage(Pn,"*")}))})))},Wn=function(){function e(){var e=this;this.currentObjects={},this.oldObjects={},this.batchArgs={},this.done=!0,this.handleIdleCallback=function(){var t=e.callback;delete e.callback,null==t||t()},this.mapCurrentObjectKey=function(t){return e.currentObjects[t]}}return e.prototype.reset=function(){this.batchArgs={},this.oldObjects=this.currentObjects,this.currentObjects={}},e.prototype.startNewBatch=function(){this.batchArgs={}},e.prototype.addArgsToBatch=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.batchArgs[this.getKey(e)]=e},e.prototype.removeOldAddNew=function(t,n,o,r){var l=this;void 0===n&&(n=e.DEFAULT_ADD_LIMIT),void 0===o&&(o=e.DEFAULT_REMOVE_LIMIT),void 0===r&&(r=e.DEFAULT_UPDATE_LIMIT),this.setKeysDifference(this.currentObjects,this.batchArgs,o).forEach((function(e){return delete l.currentObjects[e]})),this.setKeysDifference(this.oldObjects,this.batchArgs,-1).forEach((function(e){return delete l.oldObjects[e]})),Object.keys(this.oldObjects).forEach((function(e){null==l.currentObjects[e]&&(l.currentObjects[e]=l.oldObjects[e])})),this.setKeysIntersection(this.oldObjects,this.currentObjects,r).forEach((function(e){delete l.oldObjects[e],l.currentObjects[e]=t.apply(void 0,l.batchArgs[e])})),this.setKeysDifference(this.batchArgs,this.currentObjects,n).forEach((function(e){return l.currentObjects[e]=t.apply(void 0,l.batchArgs[e])})),this.done=this.setHasSameKeys(this.batchArgs,this.currentObjects)&&0===Object.keys(this.oldObjects).length},e.prototype.isDone=function(){return this.done},e.prototype.getList=function(){return Object.keys(this.currentObjects).map(this.mapCurrentObjectKey)},e.prototype.idleCallback=function(e){this.callback||(this.callback=e,function(e){kn.callbacks.push(e),Un()}(this.handleIdleCallback))},e.prototype.cancelOutstandingCallback=function(){delete this.callback},e.prototype.setList=function(e,t){var n=this;this.reset(),e.forEach((function(e,o){n.addArgsToBatch.apply(n,e),n.currentObjects[n.getKey(e)]=t[o]})),this.done=!0},e.prototype.getKey=function(t){return t.join(e.ARG_DELIMITER)},e.prototype.setKeysDifference=function(e,t,n){return this.setKeysOperation(e,t,"difference",n)},e.prototype.setKeysIntersection=function(e,t,n){return this.setKeysOperation(e,t,"intersect",n)},e.prototype.setKeysOperation=function(e,t,n,o){for(var r=[],l=Object.keys(e),i=0;i<l.length&&(o<0||r.length<o);i++){var a=l[i];("difference"===n&&e[a]&&!t[a]||"intersect"===n&&e[a]&&t[a])&&r.push(a)}return r},e.prototype.setHasSameKeys=function(e,t){var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(var r=0,l=n;r<l.length;r++)if(void 0===t[l[r]])return!1;return!0},e.DEFAULT_ADD_LIMIT=20,e.DEFAULT_UPDATE_LIMIT=20,e.DEFAULT_REMOVE_LIMIT=20,e.ARG_DELIMITER="|",e}(),Gn=["viewportRect"],Vn=["columnIndexEnd","columnIndexStart","rowIndexEnd","rowIndexStart"],Bn=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.batcher=new Wn,n.didForceUpdate=!1,n.renderNewCell=function(e,t){var o=n.props,r=o.columnIndexEnd,l=o.grid,i=o.rowIndexEnd,a=l.getExtremaClasses(e,t,i,r),s=l.isGhostIndex(e,t);return n.renderCell(e,t,a,s)},n.renderCell=function(e,o,r,l){var i,a=n.props,s=a.cellRenderer,d=a.focusedCell,u=a.loading,c=a.grid,h=l?xt():s(e,o);h=null==h?xt():h;var p=H()(qn(e,o),r,((i={})[O]=l,i[N]=e%2==1,i[z]=e%2==0,i),h.props.className),f=t.cellReactKey(e,o),g=l?c.getGhostCellRect(e,o):c.getCellRect(e,o),m=null!=h.props.loading?h.props.loading:u,v=(0,S.__assign)((0,S.__assign)({},h.props.style),St.style(g)),C=null!=d&&d.row===e&&d.col===o;return L.cloneElement(h,{className:p,isFocused:C,key:f,loading:m,style:v})},n.didViewportRectChange=function(e,t){return!(null==e&&null==t||null!=e&&null!=t&&e.equals(t))},n}return(0,S.__extends)(t,e),t.cellReactKey=function(e,t){return"cell-".concat(e,"-").concat(t)},t.prototype.componentDidMount=function(){this.maybeInvokeOnCompleteRender()},t.prototype.shouldComponentUpdate=function(e){return!I.Utils.shallowCompareKeys(e,this.props,{exclude:Gn})||this.didViewportRectChange(e.viewportRect,this.props.viewportRect)},t.prototype.componentDidUpdate=function(e){this.didForceUpdate?this.didForceUpdate=!1:(!I.Utils.shallowCompareKeys(e,this.props,{exclude:Vn})&&(this.batcher.reset(),this.didForceUpdate=!0,this.forceUpdate()),this.maybeInvokeOnCompleteRender())},t.prototype.componentWillUnmount=function(){this.batcher.cancelOutstandingCallback()},t.prototype.render=function(){var e=this.props.renderMode===Lt.BATCH?this.renderBatchedCells():this.renderAllCells();return L.createElement("div",{className:x},e)},t.prototype.renderBatchedCells=function(){var e=this,t=this.props,n=t.columnIndexEnd,o=t.columnIndexStart,r=t.rowIndexEnd,l=t.rowIndexStart;this.batcher.startNewBatch();for(var i=l;i<=r;i++)for(var a=o;a<=n;a++)this.batcher.addArgsToBatch(i,a);return this.batcher.removeOldAddNew(this.renderNewCell),this.batcher.isDone()||this.batcher.idleCallback((function(){return e.forceUpdate()})),this.batcher.getList()},t.prototype.renderAllCells=function(){for(var e=this.props,t=e.columnIndexEnd,n=e.columnIndexStart,o=e.rowIndexEnd,r=[],l=[],i=e.rowIndexStart;i<=o;i++)for(var a=n;a<=t;a++)r.push(this.renderNewCell(i,a)),l.push([i,a]);return this.batcher.setList(l,r),r},t.prototype.maybeInvokeOnCompleteRender=function(){var e=this.props,t=e.onCompleteRender,n=e.renderMode;(n===Lt.NONE||n===Lt.BATCH&&this.batcher.isDone())&&(null==t||t())},t.defaultProps={renderMode:Lt.BATCH},t}(I.AbstractComponent2);function qn(e,t){return[st(e),at(t)]}var Kn,Qn=["selectedRegions"],jn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.activationCell=null,t.renderContextMenu=function(e){var n=t.props,o=n.grid,r=n.onFocusedCell,l=n.onSelection,i=n.bodyContextMenuRenderer,a=n.selectedRegions,s=void 0===a?[]:a,d=o.numRows,u=o.numCols;if(null!=i){var c=t.locateClick(e.nativeEvent),h=s;Rt.findContainingRegion(s,c)<0&&(l(h=[c]),r((0,S.__assign)((0,S.__assign)({},Rt.getFocusCellCoordinatesFromRegion(c)),{focusSelectionIndex:0})));var p=i(new Nn(c,h,d,u));return null==p?void 0:p}},t.handleSelectionEnd=function(){t.activationCell=null},t.locateClick=function(e){return t.activationCell=t.props.locator.convertPointToCell(e.clientX,e.clientY),Rt.cell(t.activationCell.row,t.activationCell.col)},t.locateDrag=function(e,n,o){if(void 0===o&&(o=!1),null!==t.activationCell){var r=t.activationCell,l=t.props.locator.convertPointToCell(n.current[0],n.current[1]);return o?Rt.cell(l.row,l.col):Rt.cell(r.row,r.col,l.row,l.col)}},t}return(0,S.__extends)(t,e),t.cellClassNames=function(e,t){return qn(e,t)},t.prototype.shouldComponentUpdate=function(e){return!I.Utils.shallowCompareKeys(this.props,e,{exclude:Qn})||!I.Utils.deepCompareKeys(this.props,e,Qn)},t.prototype.render=function(){var e=this.props,t=e.grid,n=e.numFrozenColumns,o=e.numFrozenRows,r=t.getRect().sizeStyle(),l={height:null!=o?t.getCumulativeHeightAt(o-1):r.height,width:null!=n?t.getCumulativeWidthAt(n-1):r.width};return L.createElement(on,{enableMultipleSelection:this.props.enableMultipleSelection,focusedCell:this.props.focusedCell,locateClick:this.locateClick,locateDrag:this.locateDrag,onFocusedCell:this.props.onFocusedCell,onSelection:this.props.onSelection,onSelectionEnd:this.handleSelectionEnd,selectedRegions:this.props.selectedRegions,selectedRegionTransform:this.props.selectedRegionTransform},L.createElement(zn,{className:H()(_,D),renderContextMenu:this.renderContextMenu,style:l},L.createElement(Bn,{cellRenderer:this.props.cellRenderer,focusedCell:this.props.focusedCell,grid:t,loading:this.props.loading,onCompleteRender:this.props.onCompleteRender,renderMode:this.props.renderMode,columnIndexStart:this.props.columnIndexStart,columnIndexEnd:this.props.columnIndexEnd,rowIndexStart:this.props.rowIndexStart,rowIndexEnd:this.props.rowIndexEnd,viewportRect:this.props.viewportRect})))},t.defaultProps={loading:!1,renderMode:Lt.BATCH},t}(I.AbstractComponent2);!function(e){e.UP="up",e.DOWN="down",e.LEFT="left",e.RIGHT="right"}(Kn||(Kn={}));var Yn=function(){function e(e,t,n){var o=this;this.props=e,this.state=t,this.tableHandlers=n,this.selectAll=function(e){if(o.tableHandlers.getEnabledSelectionHandler(dt.FULL_TABLE)([Rt.table()]),e){var t=Rt.getFocusCellCoordinatesFromRegion(Rt.table());o.tableHandlers.handleFocus(tn(t))}},this.handleSelectAllHotkey=function(e){e.preventDefault(),e.stopPropagation(),o.selectAll(!1)},this.handleSelectionResizeUp=function(e){return o.handleSelectionResize(e,Kn.UP)},this.handleSelectionResizeDown=function(e){return o.handleSelectionResize(e,Kn.DOWN)},this.handleSelectionResizeLeft=function(e){return o.handleSelectionResize(e,Kn.LEFT)},this.handleSelectionResizeRight=function(e){return o.handleSelectionResize(e,Kn.RIGHT)},this.handleSelectionResize=function(e,t){e.preventDefault(),e.stopPropagation();var n=o.state,r=n.focusedCell,l=n.selectedRegions,i=function(e,t){return 0===e.length?void 0:null!=t?t.focusSelectionIndex:e.length-1}(l,r);if(void 0!==i){var a=function(e,t,n){if(Rt.getRegionCardinality(e)===dt.FULL_TABLE)return e;var o=Rt.copy(e),r=0,l=0;if(null!=n){var i=function(e,t){return null!=e.rows&&t.row===e.rows[0]}(o,n),a=function(e,t){return null!=e.rows&&t.row===e.rows[1]}(o,n),s=function(e,t){return null!=e.cols&&t.col===e.cols[0]}(o,n),d=function(e,t){return null!=e.cols&&t.col===e.cols[1]}(o,n);t===Kn.UP?r=i&&!a?1:0:t===Kn.DOWN?r=a&&!i?0:1:l=t===Kn.LEFT?s&&!d?1:0:d&&!s?0:1}else r=t===Kn.DOWN?1:0,l=t===Kn.RIGHT?1:0;var u=function(e){switch(e){case Kn.UP:return{rows:-1,cols:0};case Kn.DOWN:return{rows:1,cols:0};case Kn.LEFT:return{rows:0,cols:-1};case Kn.RIGHT:return{rows:0,cols:1}}}(t);return null!=o.rows&&(o.rows[r]+=u.rows),null!=o.cols&&(o.cols[l]+=u.cols),o}(l[i],t,r);o.updateSelectedRegionAtIndex(a,i)}},this.handleFocusMoveLeft=function(e){return o.handleFocusMove(e,"left")},this.handleFocusMoveLeftInternal=function(e){return o.handleFocusMoveInternal(e,"left")},this.handleFocusMoveRight=function(e){return o.handleFocusMove(e,"right")},this.handleFocusMoveRightInternal=function(e){return o.handleFocusMoveInternal(e,"right")},this.handleFocusMoveUp=function(e){return o.handleFocusMove(e,"up")},this.handleFocusMoveUpInternal=function(e){return o.handleFocusMoveInternal(e,"up")},this.handleFocusMoveDown=function(e){return o.handleFocusMove(e,"down")},this.handleFocusMoveDownInternal=function(e){return o.handleFocusMoveInternal(e,"down")},this.handleFocusMove=function(e,t){e.preventDefault(),e.stopPropagation();var n=o.state.focusedCell;if(null!=n){var r={col:n.col,focusSelectionIndex:0,row:n.row};switch(t){case"up":r.row-=1;break;case"down":r.row+=1;break;case"left":r.col-=1;break;case"right":r.col+=1}if(!(r.row<0||r.row>=o.grid.numRows||r.col<0||r.col>=o.grid.numCols)){var l=[Rt.cell(r.row,r.col)],i=o.props.selectedRegionTransform,a=null!=i?l.map((function(t){return i(t,e)})):l;o.tableHandlers.handleSelection(a),o.tableHandlers.handleFocus(r),o.scrollBodyToFocusedCell(r)}}},this.handleFocusMoveInternal=function(e,t){e.preventDefault(),e.stopPropagation();var n=o.state,r=n.focusedCell,l=n.selectedRegions;if(null!=r){var i={col:r.col,focusSelectionIndex:r.focusSelectionIndex,row:r.row};if(null==r.focusSelectionIndex&&l.length>0)i={col:(a=Rt.getCellRegionFromRegion(l[0],o.grid.numRows,o.grid.numCols)).cols[0],focusSelectionIndex:0,row:a.rows[0]};else{if(0===l.length)return void o.handleFocusMove(e,t);var a;if((a=Rt.getCellRegionFromRegion(l[r.focusSelectionIndex],o.grid.numRows,o.grid.numCols)).cols[0]===a.cols[1]&&a.rows[0]===a.rows[1]&&1===l.length)return void o.handleFocusMove(e,t);switch(t){case"up":i=o.moveFocusCell("row","col",!0,i,a);break;case"left":i=o.moveFocusCell("col","row",!0,i,a);break;case"down":i=o.moveFocusCell("row","col",!1,i,a);break;case"right":i=o.moveFocusCell("col","row",!1,i,a)}}i.row<0||i.row>=o.grid.numRows||i.col<0||i.col>=o.grid.numCols||(o.tableHandlers.handleFocus(i),o.scrollBodyToFocusedCell(i))}},this.scrollBodyToFocusedCell=function(e){var t=e.row,n=e.col,r=o.state.viewportRect;if(void 0!==r&&void 0!==o.grid){var l=r.top,i=r.left+r.width,a=r.top+r.height,s=r.left,d=o.grid.getCumulativeHeightBefore(t),u=o.grid.getCumulativeWidthAt(n),c=o.grid.getCumulativeHeightAt(t),h=o.grid.getCumulativeWidthBefore(n),p=c-d,f=u-h>r.width,g=p>r.height,m={};if(d<l||g)m.nextScrollTop=Math.max(0,d-1);else if(c>a){var v=c-a;m.nextScrollTop=l+v}h<s||f?m.nextScrollLeft=Math.max(0,h-1):u>i&&(v=u-i,m.nextScrollLeft=s+v),o.tableHandlers.syncViewportPosition(m)}},this.handleCopy=function(e){var t=o.props,n=t.getCellClipboardData,r=t.onCopy,l=o.state.selectedRegions;if(null!=n&&void 0!==o.grid){e.preventDefault(),e.stopPropagation();var i=Rt.enumerateUniqueCells(l,o.grid.numRows,o.grid.numCols),a=Rt.sparseMapCells(i,(function(e,t){return n(e,t,o.state.childrenArray[t].props.cellRenderer)}));null!=a&&Pt.copyCells(a).then((function(){return null==r?void 0:r(!0)})).catch((function(e){console.error(Zt,e),null==r||r(!1)}))}}}return e.prototype.setGrid=function(e){this.grid=e},e.prototype.setProps=function(e){this.props=e},e.prototype.setState=function(e){this.state=e},e.prototype.updateSelectedRegionAtIndex=function(e,t){var n=this.props,o=n.children,r=n.numRows,l=this.state.selectedRegions,i=L.Children.count(o),a=Math.max(0,r-1),s=Math.max(0,i-1),d=Rt.clampRegion(e,a,s),u=Rt.update(l,d,t);this.tableHandlers.handleSelection(u)},e.prototype.moveFocusCell=function(e,t,n,o,r){var l=this.state.selectedRegions,i="row"===e?"rows":"cols",a="row"===t?"rows":"cols",s=n?-1:1,d=n?1:0;if(o[e]+=s,(n?o[e]<r[i][0]:o[e]>r[i][1])&&(o[e]=r[i][d],o[t]+=s,n?o[t]<r[a][0]:o[t]>r[a][1])){var u=o.focusSelectionIndex+s;(n?u<0:u>=l.length)&&(u=n?l.length-1:0);var c=Rt.getCellRegionFromRegion(l[u],this.grid.numRows,this.grid.numCols);o={col:c.cols[d],focusSelectionIndex:u,row:c.rows[d]}}return o},e}();function Xn(e){return Jn(e.numFrozenColumns,L.Children.count(e.children))}function Zn(e){return Jn(e.numFrozenRows,e.numRows)}function Jn(e,t){return void 0===e?0:ft.clamp(e,0,t)}function $n(e,t){return void 0!==e&&e.indexOf(t)>=0}var eo=function(e){function t(t,o){var r=e.call(this,t,o)||this;r.grid=null,r.refHandlers={cellContainer:function(e){return r.cellContainerElement=e},columnHeader:function(e){return r.columnHeaderElement=e},quadrantStack:function(e){return r.quadrantStackInstance=e},rootTable:function(e){return r.rootTableElement=e},rowHeader:function(e){return r.rowHeaderElement=e},scrollContainer:function(e){return r.scrollContainerElement=e}},r.didCompletelyMount=!1,r.renderMenu=function(e){var t,o=H()(ae,((t={})[Ge]=n.isSelectionModeEnabled(r.props,dt.FULL_TABLE),t));return L.createElement("div",{className:o,ref:e,onMouseDown:r.handleMenuMouseDown},r.maybeRenderRegions(r.styleMenuRegion))},r.handleMenuMouseDown=function(e){r.selectAll(!e.shiftKey)},r.selectAll=function(e){if(r.getEnabledSelectionHandler(dt.FULL_TABLE)([Rt.table()]),e){var t=Rt.getFocusCellCoordinatesFromRegion(Rt.table());r.handleFocus(tn(t))}},r.columnHeaderCellRenderer=function(e){var t,n=r.getColumnProps(e);if(void 0===n)return null;n.id,n.cellRenderer;var o=n.columnHeaderCellRenderer,l=(0,S.__rest)(n,["id","cellRenderer","columnHeaderCellRenderer"]),i=$n(n.loadingOptions,gt.HEADER)||$n(r.props.loadingOptions,vt.COLUMN_HEADERS);if(null!=o){var a=o(e);if(null!=a)return L.cloneElement(a,{loading:null!==(t=a.props.loading)&&void 0!==t?t:i})}var s=(0,S.__assign)({index:e,loading:i},l);return null!=n.name?L.createElement(sn,(0,S.__assign)({},s)):L.createElement(sn,(0,S.__assign)({},s,{name:ft.toBase26Alpha(e)}))},r.renderColumnHeader=function(e,t,o,l){var i;void 0===l&&(l=!1);var a=r.state,s=a.focusedCell,d=a.selectedRegions,u=a.viewportRect,c=r.props,h=c.defaultColumnWidth,p=c.enableMultipleSelection,f=c.enableGhostCells,g=c.enableColumnReordering,m=c.enableColumnResizing,v=c.loadingOptions,C=c.maxColumnWidth,R=c.minColumnWidth,y=c.selectedRegionTransform;if(null!==r.grid&&void 0!==r.locator&&void 0!==u){var w=H()(k,((i={})[Ge]=n.isSelectionModeEnabled(r.props,dt.FULL_COLUMNS),i)),b=r.grid.getColumnIndicesInRect(u,f),S=l?0:b.columnIndexStart,E=l?r.getMaxFrozenColumnIndex():b.columnIndexEnd;return L.createElement("div",{className:w},L.createElement(pn,{defaultColumnWidth:h,enableMultipleSelection:p,cellRenderer:r.columnHeaderCellRenderer,focusedCell:s,grid:r.grid,isReorderable:g,isResizable:m,loading:$n(v,vt.COLUMN_HEADERS),locator:r.locator,maxColumnWidth:C,measurableElementRef:e,minColumnWidth:R,onColumnWidthChanged:r.handleColumnWidthChanged,onFocusedCell:r.handleFocus,onLayoutLock:r.handleLayoutLock,onReordered:r.handleColumnsReordered,onReordering:o,onResizeGuide:t,onSelection:r.getEnabledSelectionHandler(dt.FULL_COLUMNS),selectedRegions:d,selectedRegionTransform:y,columnIndexStart:S,columnIndexEnd:E},r.props.children),r.maybeRenderRegions(r.styleColumnHeaderRegion))}},r.renderRowHeader=function(e,t,o,l){var i;void 0===l&&(l=!1);var a=r.state,s=a.focusedCell,d=a.selectedRegions,u=a.viewportRect,c=r.props,h=c.defaultRowHeight,p=c.enableMultipleSelection,f=c.enableGhostCells,g=c.enableRowReordering,m=c.enableRowResizing,v=c.loadingOptions,C=c.maxRowHeight,R=c.minRowHeight,y=c.rowHeaderCellRenderer,w=c.selectedRegionTransform;if(null!==r.grid&&void 0!==r.locator&&void 0!==u){var b=H()(Pe,((i={})[Ge]=n.isSelectionModeEnabled(r.props,dt.FULL_ROWS),i)),S=r.grid.getRowIndicesInRect({rect:u,includeGhostCells:f}),E=l?0:S.rowIndexStart,I=l?r.getMaxFrozenRowIndex():S.rowIndexEnd;return L.createElement("div",{className:b,ref:e},L.createElement(gn,{defaultRowHeight:h,enableMultipleSelection:p,focusedCell:s,grid:r.grid,locator:r.locator,isReorderable:g,isResizable:m,loading:$n(v,vt.ROW_HEADERS),maxRowHeight:C,minRowHeight:R,onFocusedCell:r.handleFocus,onLayoutLock:r.handleLayoutLock,onResizeGuide:t,onReordered:r.handleRowsReordered,onReordering:o,onRowHeightChanged:r.handleRowHeightChanged,onSelection:r.getEnabledSelectionHandler(dt.FULL_ROWS),rowHeaderCellRenderer:y,selectedRegions:d,selectedRegionTransform:w,rowIndexStart:E,rowIndexEnd:I}),r.maybeRenderRegions(r.styleRowHeaderRegion))}},r.bodyCellRenderer=function(e,t){var n,o=r.getColumnProps(t);if(void 0!==o){o.id,o.loadingOptions;var l=o.cellRenderer,i=(o.columnHeaderCellRenderer,o.name,o.nameRenderer,(0,S.__rest)(o,["id","loadingOptions","cellRenderer","columnHeaderCellRenderer","name","nameRenderer"])),a=l(e,t);if(void 0!==a){var s=$n(o.loadingOptions,gt.CELLS)||$n(r.props.loadingOptions,vt.CELLS);return L.cloneElement(a,(0,S.__assign)((0,S.__assign)({},i),{loading:null!==(n=a.props.loading)&&void 0!==n?n:s}))}}},r.renderBody=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var o=r.state,l=o.focusedCell,i=o.numFrozenColumnsClamped,a=o.numFrozenRowsClamped,s=o.selectedRegions,d=o.viewportRect,u=r.props,c=u.enableMultipleSelection,h=u.enableGhostCells,p=u.loadingOptions,f=u.bodyContextMenuRenderer,g=u.selectedRegionTransform;if(null!==r.grid&&void 0!==r.locator&&void 0!==d){var m=r.grid.getRowIndicesInRect({rect:d,includeGhostCells:h}),v=r.grid.getColumnIndicesInRect(d,h),C=n?0:v.columnIndexStart+i,R=t?0:m.rowIndexStart+a,y=n?i-1:v.columnIndexEnd,w=t?a-1:m.rowIndexEnd,b=e===Sn.MAIN?r.handleCompleteRender:void 0;return L.createElement("div",null,L.createElement(jn,{enableMultipleSelection:c,cellRenderer:r.bodyCellRenderer,focusedCell:l,grid:r.grid,loading:$n(p,vt.CELLS),locator:r.locator,onCompleteRender:b,onFocusedCell:r.handleFocus,onSelection:r.getEnabledSelectionHandler(dt.CELLS),bodyContextMenuRenderer:f,renderMode:r.getNormalizedRenderMode(),selectedRegions:s,selectedRegionTransform:g,viewportRect:d,columnIndexStart:C,columnIndexEnd:y,rowIndexStart:R,rowIndexEnd:w,numFrozenColumns:n?i:void 0,numFrozenRows:t?a:void 0}),r.maybeRenderRegions(r.styleBodyRegion,e))}},r.getEnabledSelectionHandler=function(e){return n.isSelectionModeEnabled(r.props,e)?r.handleSelection:r.clearSelection},r.handleCompleteRender=function(){var e,t;null!=r.state.viewportRect&&(null===(t=(e=r.props).onCompleteRender)||void 0===t||t.call(e),r.didCompletelyMount=!0)},r.styleBodyRegion=function(e,t){var n=r.props.numFrozenColumns;if(null==r.grid)return{};var o=Rt.getRegionCardinality(e),l=r.grid.getRegionStyle(e),i=(t===Sn.TOP_LEFT||t===Sn.LEFT)&&null!=n&&n>0,a=r.grid.getHeight(),s=r.grid.getWidth(),d="-".concat(1,"px");switch(o){case dt.CELLS:return l;case dt.FULL_COLUMNS:return l.top=d,l.height=a+1,l;case dt.FULL_ROWS:return l.left=d,l.width=s+1,i&&(l.right=d),l;case dt.FULL_TABLE:return l.left=d,l.top=d,l.width=s+1,l.height=a+1,i&&(l.right=d),l;default:return{display:"none"}}},r.styleMenuRegion=function(e){var t=r.state.viewportRect;if(null==r.grid||null==t)return{};var n=Rt.getRegionCardinality(e),o=r.grid.getRegionStyle(e);return n===dt.FULL_TABLE?(o.right="0px",o.bottom="0px",o.top="0px",o.left="0px",o.borderBottom="none",o.borderRight="none",o):{display:"none"}},r.styleColumnHeaderRegion=function(e){var t=r.state.viewportRect;if(null==r.grid||null==t)return{};var n=Rt.getRegionCardinality(e),o=r.grid.getRegionStyle(e);switch(n){case dt.FULL_TABLE:return o.left="-1px",o.borderLeft="none",o.bottom="-1px",o;case dt.FULL_COLUMNS:return o.bottom="-1px",o;default:return{display:"none"}}},r.styleRowHeaderRegion=function(e){var t=r.state.viewportRect;if(null==r.grid||null==t)return{};var n=Rt.getRegionCardinality(e),o=r.grid.getRegionStyle(e);switch(n){case dt.FULL_TABLE:return o.top="-1px",o.borderTop="none",o.right="-1px",o;case dt.FULL_ROWS:return o.right="-1px",o;default:return{display:"none"}}},r.handleColumnWidthChanged=function(e,t){var n=r.state.selectedRegions,o=r.state.columnWidths.slice();if(Rt.hasFullTable(n))for(var l=0;l<o.length;l++)o[l]=t;Rt.hasFullColumn(n,e)?Rt.eachUniqueFullColumn(n,(function(e){o[e]=t})):o[e]=t,r.invalidateGrid(),r.setState({columnWidths:o});var i=r.props.onColumnWidthChanged;null!=i&&i(e,t)},r.handleRowHeightChanged=function(e,t){var n=r.state.selectedRegions,o=r.state.rowHeights.slice();if(Rt.hasFullTable(n))for(var l=0;l<o.length;l++)o[l]=t;Rt.hasFullRow(n,e)?Rt.eachUniqueFullRow(n,(function(e){o[e]=t})):o[e]=t,r.invalidateGrid(),r.setState({rowHeights:o});var i=r.props.onRowHeightChanged;null!=i&&i(e,t)},r.handleRootScroll=function(e){null!=r.rootTableElement&&(r.rootTableElement.scrollLeft=0,r.rootTableElement.scrollTop=0)},r.handleBodyScroll=function(e){if(e.stopPropagation(),null!=r.locator&&!r.state.isLayoutLocked){var t=r.locator.getViewportRect();r.updateViewportRect(t)}},r.clearSelection=function(e){r.handleSelection([])},r.syncViewportPosition=function(e){var t=e.nextScrollLeft,n=e.nextScrollTop,o=r.state.viewportRect;if(null!=r.scrollContainerElement&&null!=r.columnHeaderElement&&void 0!==o&&(void 0!==t||void 0!==n)){if(void 0!==n){var l=r.shouldDisableVerticalScroll()?0:r.columnHeaderElement.clientHeight;r.scrollContainerElement.scrollTop=n+l}if(void 0!==t){var i=r.shouldDisableHorizontalScroll()||null==r.rowHeaderElement?0:r.rowHeaderElement.clientWidth;r.scrollContainerElement.scrollLeft=t+i}var a=new St(null!=t?t:0,null!=n?n:0,o.width,o.height);r.updateViewportRect(a)}},r.handleFocus=function(e){var t,n;r.props.enableFocusedCell&&(null==r.props.focusedCell&&r.setState({focusedCell:e}),null===(n=(t=r.props).onFocusedCell)||void 0===n||n.call(t,e))},r.handleSelection=function(e){null==r.props.selectedRegions&&r.setState({selectedRegions:e});var t=r.props.onSelection;null!=t&&t(e)},r.handleColumnsReordering=function(e){r.setState({isReordering:!0,verticalGuides:e})},r.handleColumnsReordered=function(e,t,n){var o,l;r.setState({isReordering:!1,verticalGuides:[]}),null===(l=(o=r.props).onColumnsReordered)||void 0===l||l.call(o,e,t,n)},r.handleRowsReordering=function(e){r.setState({isReordering:!0,horizontalGuides:e})},r.handleRowsReordered=function(e,t,n){var o,l;r.setState({isReordering:!1,horizontalGuides:[]}),null===(l=(o=r.props).onRowsReordered)||void 0===l||l.call(o,e,t,n)},r.handleLayoutLock=function(e){void 0===e&&(e=!1),r.setState({isLayoutLocked:e})},r.updateViewportRect=function(e){if(void 0!==e){var t=r.state.viewportRect;r.setState({viewportRect:e}),(null!=t&&!t.equals(e)||null==t&&null!=e)&&r.invokeOnVisibleCellsChangeCallback(e)}},r.getMaxFrozenColumnIndex=function(){return r.state.numFrozenColumnsClamped-1},r.getMaxFrozenRowIndex=function(){return r.state.numFrozenRowsClamped-1},r.handleColumnResizeGuide=function(e){r.setState({verticalGuides:e})},r.handleRowResizeGuide=function(e){r.setState({horizontalGuides:e})};var l=t.children,i=t.columnWidths,a=t.defaultRowHeight,s=t.defaultColumnWidth,d=t.numRows,u=t.rowHeights,c=L.Children.toArray(l),h=n.createColumnIdIndex(c),p=c.map((function(){return s}));void 0!==i&&(p=ft.assignSparseValues(p,i));var f=ft.times(d,(function(){return a}));void 0!==u&&(f=ft.assignSparseValues(f,u));var g=null==t.selectedRegions?[]:t.selectedRegions,m=en(t.enableFocusedCell,t.focusedCell,void 0,g);return r.state={childrenArray:c,columnIdToIndex:h,columnWidths:p,didHeadersMount:!1,focusedCell:m,horizontalGuides:[],isLayoutLocked:!1,isReordering:!1,numFrozenColumnsClamped:Xn(t),numFrozenRowsClamped:Zn(t),rowHeights:f,selectedRegions:g,verticalGuides:[]},r.hotkeysImpl=new Yn(t,r.state,{getEnabledSelectionHandler:r.getEnabledSelectionHandler,handleFocus:r.handleFocus,handleSelection:r.handleSelection,syncViewportPosition:r.syncViewportPosition}),r}var n;return(0,S.__extends)(t,e),n=t,t.getDerivedStateFromProps=function(e,t){var o=e.children,r=e.defaultColumnWidth,l=e.defaultRowHeight,i=e.enableFocusedCell,a=e.focusedCell,s=e.numRows,d=e.selectedRegions,u=e.selectionModes,c=e.columnWidths,h=e.rowHeights;null==c&&(c=t.columnWidths),null==h&&(h=t.rowHeights);var p=L.Children.toArray(o),f=p!==t.childrenArray,g=p.length,m=c;if(c!==t.columnWidths||f){var v=p.map((function(e,n){var o=void 0===e.props.id?n:t.columnIdToIndex[String(e.props.id)];return t.columnWidths[o]}));m=Array(g).fill(r),m=ft.assignSparseValues(m,v),m=ft.assignSparseValues(m,c)}var C=h;h===t.rowHeights&&s===t.rowHeights.length||(C=Array(s).fill(l),C=ft.assignSparseValues(C,h));var R=null!=d?d:t.selectedRegions.filter((function(t){var o=Rt.getRegionCardinality(t);return n.isSelectionModeEnabled(e,o,u)&&Rt.isRegionValidForTable(t,s,g)})),y=en(i,a,t.focusedCell,R),w={childrenArray:p,columnIdToIndex:f?n.createColumnIdIndex(p):t.columnIdToIndex,columnWidths:m,focusedCell:y,numFrozenColumnsClamped:Xn(e),numFrozenRowsClamped:Zn(e),rowHeights:C,selectedRegions:R};return I.Utils.deepCompareKeys(t,w,n.SHALLOW_COMPARE_STATE_KEYS_DENYLIST)?null:w},t.createColumnIdIndex=function(e){for(var t={},n=0;n<e.length;n++){var o=e[n].props.id;null!=o&&(t[String(o)]=n)}return t},t.isSelectionModeEnabled=function(e,t,n){void 0===n&&(n=e.selectionModes);var o=e.children,r=e.numRows,l=L.Children.count(o);return n.indexOf(t)>=0&&r>0&&l>0},t.prototype.resizeRowsByApproximateHeight=function(e,t){var n=On(this.props.numRows,this.state.columnWidths,e,t);this.invalidateGrid(),this.setState({rowHeights:n})},t.prototype.resizeRowsByTallestCell=function(e){if(null!=this.grid&&void 0!==this.state.viewportRect&&void 0!==this.locator){var t=An(this.grid,this.state.viewportRect,this.locator,this.state.rowHeights.length,e);this.invalidateGrid(),this.setState({rowHeights:t})}else console.warn(Yt)},t.prototype.scrollToRegion=function(e){var t=this.state,n=t.numFrozenColumnsClamped,o=t.numFrozenRowsClamped,r=t.viewportRect;if(void 0!==r&&null!==this.grid&&void 0!==this.quadrantStackInstance){var l=yn(e,r.left,r.top,this.grid.getCumulativeWidthBefore,this.grid.getCumulativeHeightBefore,o,n),i=l.scrollLeft,a=l.scrollTop,s=this.shouldDisableHorizontalScroll()?0:i,d=this.shouldDisableVerticalScroll()?0:a;this.quadrantStackInstance.scrollToPosition(s,d)}},t.prototype.getChildContext=function(){return{enableColumnInteractionBar:this.props.enableColumnInteractionBar}},t.prototype.shouldComponentUpdate=function(e,t){var o={exclude:n.SHALLOW_COMPARE_PROP_KEYS_DENYLIST},r={exclude:n.SHALLOW_COMPARE_STATE_KEYS_DENYLIST};return!(I.Utils.shallowCompareKeys(this.props,e,o)&&I.Utils.shallowCompareKeys(this.state,t,r)&&I.Utils.deepCompareKeys(this.props,e,n.SHALLOW_COMPARE_PROP_KEYS_DENYLIST)&&I.Utils.deepCompareKeys(this.state,t,n.SHALLOW_COMPARE_STATE_KEYS_DENYLIST))},t.prototype.render=function(){var e,t=this.props,o=t.children,r=t.className,l=t.enableRowHeader,i=t.loadingOptions,a=t.numRows,s=t.enableColumnInteractionBar,d=t.enableColumnHeader,u=this.state,c=u.horizontalGuides,h=u.numFrozenColumnsClamped,p=u.numFrozenRowsClamped,f=u.verticalGuides;this.gridDimensionsMatchProps()||this.invalidateGrid();var g=this.validateGrid(),m=H()(V,((e={})[xe]=this.state.isReordering,e[ue]=this.shouldDisableVerticalScroll(),e[se]=this.shouldDisableHorizontalScroll(),e[Ge]=n.isSelectionModeEnabled(this.props,dt.CELLS),e[de]=0===a,e),r);return L.createElement("div",{className:m,ref:this.refHandlers.rootTable,onScroll:this.handleRootScroll},L.createElement(Mn,{bodyRef:this.refHandlers.cellContainer,bodyRenderer:this.renderBody,columnHeaderRenderer:this.renderColumnHeader,columnHeaderRef:this.refHandlers.columnHeader,enableColumnInteractionBar:s,enableRowHeader:l,grid:g,handleColumnResizeGuide:this.handleColumnResizeGuide,handleColumnsReordering:this.handleColumnsReordering,handleRowResizeGuide:this.handleRowResizeGuide,handleRowsReordering:this.handleRowsReordering,isHorizontalScrollDisabled:this.shouldDisableHorizontalScroll(),isVerticalScrollDisabled:this.shouldDisableVerticalScroll(),loadingOptions:i,numColumns:L.Children.count(o),numFrozenColumns:h,numFrozenRows:p,numRows:a,onScroll:this.handleBodyScroll,ref:this.refHandlers.quadrantStack,menuRenderer:this.renderMenu,rowHeaderRenderer:this.renderRowHeader,rowHeaderRef:this.refHandlers.rowHeader,scrollContainerRef:this.refHandlers.scrollContainer,enableColumnHeader:d}),L.createElement("div",{className:H()(fe,ge)}),L.createElement(Hn,{className:_e,verticalGuides:f,horizontalGuides:c}))},t.prototype.renderHotkeys=function(){var e=[this.maybeRenderCopyHotkey(),this.maybeRenderSelectAllHotkey(),this.maybeRenderFocusHotkeys(),this.maybeRenderSelectionResizeHotkeys()];return L.createElement(I.Hotkeys,null,e.filter((function(e){return void 0!==e})))},t.prototype.componentDidMount=function(){var e=this;this.validateGrid(),null!=this.rootTableElement&&null!=this.scrollContainerElement&&null!=this.cellContainerElement&&(this.locator=new Ht(this.rootTableElement,this.scrollContainerElement,this.cellContainerElement),this.updateLocator(),this.updateViewportRect(this.locator.getViewportRect()),this.resizeSensorDetach=En.attach(this.rootTableElement,(function(){var t;e.state.isLayoutLocked||e.updateViewportRect(null===(t=e.locator)||void 0===t?void 0:t.getViewportRect())})))},t.prototype.componentWillUnmount=function(){null!=this.resizeSensorDetach&&(this.resizeSensorDetach(),delete this.resizeSensorDetach),this.didCompletelyMount=!1},t.prototype.getSnapshotBeforeUpdate=function(){var e=this.state.viewportRect;if(void 0===e)return{};var t=this.validateGrid(),n=t.getCumulativeHeightAt(t.numRows-1),o=t.getCumulativeWidthAt(t.numCols-1),r=n<e.top+e.height?Math.max(0,n-e.height):void 0;return{nextScrollLeft:o<e.left+e.width?Math.max(0,o-e.width):void 0,nextScrollTop:r}},t.prototype.componentDidUpdate=function(t,n,o){var r;e.prototype.componentDidUpdate.call(this,t,n,o),this.hotkeysImpl.setState(this.state),this.hotkeysImpl.setProps(this.props),(L.Children.toArray(this.props.children)!==this.state.childrenArray||this.props.columnWidths!==n.columnWidths||this.props.rowHeights!==n.rowHeights||this.props.numRows!==t.numRows||this.props.forceRerenderOnSelectionChange&&this.props.selectedRegions!==t.selectedRegions)&&this.invalidateGrid(),null!=this.locator&&(this.validateGrid(),this.updateLocator()),(!I.Utils.arraysEqual(this.state.columnWidths,n.columnWidths)||!I.Utils.arraysEqual(this.state.rowHeights,n.rowHeights))&&(null===(r=this.quadrantStackInstance)||void 0===r||r.synchronizeQuadrantViews(),this.syncViewportPosition(o))},t.prototype.validateProps=function(e){var t=e.children,n=e.columnWidths,o=e.numFrozenColumns,r=e.numFrozenRows,l=e.numRows,i=e.rowHeights,a=L.Children.count(t);if(null!=l&&l<0)throw new Error(Qt);if(null!=r&&r<0)throw new Error(qt);if(null!=o&&o<0)throw new Error(Vt);if(null!=l&&null!=i&&i.length!==l)throw new Error(Kt);if(null!=a&&null!=n&&n.length!==a)throw new Error(jt);L.Children.forEach(t,(function(e){if(!I.Utils.isElementOfType(e,Nt))throw new Error(Wt)})),null!=r&&null!=l&&r>l&&console.warn(Bt),null!=o&&o>a&&console.warn(Gt)},t.prototype.gridDimensionsMatchProps=function(){var e=this.props,t=e.children,n=e.numRows;return null!=this.grid&&this.grid.numCols===L.Children.count(t)&&this.grid.numRows===n},t.prototype.maybeRenderCopyHotkey=function(){return null!=this.props.getCellClipboardData?L.createElement(I.Hotkey,{key:"copy-hotkey",label:"Copy selected table cells",group:"Table",combo:"mod+c",onKeyDown:this.hotkeysImpl.handleCopy}):void 0},t.prototype.maybeRenderSelectionResizeHotkeys=function(){var e=this.props,t=e.enableMultipleSelection,n=e.selectionModes.length>0;return t&&n?[L.createElement(I.Hotkey,{key:"resize-selection-up",label:"Resize selection upward",group:"Table",combo:"shift+up",onKeyDown:this.hotkeysImpl.handleSelectionResizeUp}),L.createElement(I.Hotkey,{key:"resize-selection-down",label:"Resize selection downward",group:"Table",combo:"shift+down",onKeyDown:this.hotkeysImpl.handleSelectionResizeDown}),L.createElement(I.Hotkey,{key:"resize-selection-left",label:"Resize selection leftward",group:"Table",combo:"shift+left",onKeyDown:this.hotkeysImpl.handleSelectionResizeLeft}),L.createElement(I.Hotkey,{key:"resize-selection-right",label:"Resize selection rightward",group:"Table",combo:"shift+right",onKeyDown:this.hotkeysImpl.handleSelectionResizeRight})]:void 0},t.prototype.maybeRenderFocusHotkeys=function(){return null!=this.props.enableFocusedCell?[L.createElement(I.Hotkey,{key:"move left",label:"Move focus cell left",group:"Table",combo:"left",onKeyDown:this.hotkeysImpl.handleFocusMoveLeft}),L.createElement(I.Hotkey,{key:"move right",label:"Move focus cell right",group:"Table",combo:"right",onKeyDown:this.hotkeysImpl.handleFocusMoveRight}),L.createElement(I.Hotkey,{key:"move up",label:"Move focus cell up",group:"Table",combo:"up",onKeyDown:this.hotkeysImpl.handleFocusMoveUp}),L.createElement(I.Hotkey,{key:"move down",label:"Move focus cell down",group:"Table",combo:"down",onKeyDown:this.hotkeysImpl.handleFocusMoveDown}),L.createElement(I.Hotkey,{key:"move tab",label:"Move focus cell tab",group:"Table",combo:"tab",onKeyDown:this.hotkeysImpl.handleFocusMoveRightInternal,allowInInput:!0}),L.createElement(I.Hotkey,{key:"move shift-tab",label:"Move focus cell shift tab",group:"Table",combo:"shift+tab",onKeyDown:this.hotkeysImpl.handleFocusMoveLeftInternal,allowInInput:!0}),L.createElement(I.Hotkey,{key:"move enter",label:"Move focus cell enter",group:"Table",combo:"enter",onKeyDown:this.hotkeysImpl.handleFocusMoveDownInternal,allowInInput:!0}),L.createElement(I.Hotkey,{key:"move shift-enter",label:"Move focus cell shift enter",group:"Table",combo:"shift+enter",onKeyDown:this.hotkeysImpl.handleFocusMoveUpInternal,allowInInput:!0})]:[]},t.prototype.maybeRenderSelectAllHotkey=function(){return n.isSelectionModeEnabled(this.props,dt.FULL_TABLE)?L.createElement(I.Hotkey,{key:"select-all-hotkey",label:"Select all",group:"Table",combo:"mod+a",onKeyDown:this.hotkeysImpl.handleSelectAllHotkey}):void 0},t.prototype.shouldDisableVerticalScroll=function(){var e,t,n=this.props,o=n.enableColumnHeader,r=n.enableGhostCells,l=this.state.viewportRect;if(null===this.grid||void 0===l)return!1;var i=o?null!==(t=null===(e=this.columnHeaderElement)||void 0===e?void 0:e.clientHeight)&&void 0!==t?t:Et.MIN_COLUMN_HEADER_HEIGHT:0,a=this.grid.getRowIndicesInRect({columnHeaderHeight:i,includeGhostCells:r,rect:l}),s=null!=l&&0===l.top,d=$n(this.props.loadingOptions,vt.ROW_HEADERS);return r&&this.grid.isGhostIndex(a.rowIndexEnd,0)&&(s||d)},t.prototype.shouldDisableHorizontalScroll=function(){var e=this.props.enableGhostCells,t=this.state.viewportRect;if(null===this.grid||void 0===t)return!1;var n=this.grid.getColumnIndicesInRect(t,e),o=null!=t&&0===t.left,r=e&&this.grid.isGhostColumn(n.columnIndexEnd),l=$n(this.props.loadingOptions,vt.COLUMN_HEADERS);return r&&(o||l)},t.prototype.getColumnProps=function(e){var t=this.state.childrenArray[e];return void 0===t?void 0:t.props},t.prototype.isGuideLayerShowing=function(){return this.state.verticalGuides.length>0||this.state.horizontalGuides.length>0},t.prototype.invalidateGrid=function(){this.grid=null},t.prototype.validateGrid=function(){if(null==this.grid){var e=this.props,t=e.defaultRowHeight,n=e.defaultColumnWidth,o=e.numFrozenColumns,r=this.state,l=r.rowHeights,i=r.columnWidths,a=Math.max(Et.DEFAULT_BLEED,o);this.grid=new Et(l,i,a,t,n),this.invokeOnVisibleCellsChangeCallback(this.state.viewportRect),this.hotkeysImpl.setGrid(this.grid)}return this.grid},t.prototype.maybeRenderRegions=function(e,t){var n;if(!this.isGuideLayerShowing()||this.state.isReordering)return Rt.joinStyledRegionGroups(this.state.selectedRegions,null!==(n=this.props.styledRegionGroups)&&void 0!==n?n:[],this.state.focusedCell).map((function(n,o){var r=n.regions.map((function(n){return e(n,t)}));return L.createElement(In,{className:H()(n.className),key:o,regions:n.regions,regionStyles:r})}))},t.prototype.updateLocator=function(){void 0!==this.locator&&null!=this.grid&&this.locator.setGrid(this.grid).setNumFrozenRows(this.state.numFrozenRowsClamped).setNumFrozenColumns(this.state.numFrozenColumnsClamped)},t.prototype.invokeOnVisibleCellsChangeCallback=function(e){var t,n;if(null!=this.grid){var o=this.grid.getColumnIndicesInRect(e),r=this.grid.getRowIndicesInRect({rect:e});null===(n=(t=this.props).onVisibleCellsChange)||void 0===n||n.call(t,r,o)}},t.prototype.getNormalizedRenderMode=function(){var e=this.props.renderMode;return e===Lt.BATCH||e===Lt.BATCH_ON_UPDATE&&this.didCompletelyMount?Lt.BATCH:Lt.NONE},t.displayName="".concat(I.DISPLAYNAME_PREFIX,".Table"),t.defaultProps={defaultColumnWidth:150,defaultRowHeight:20,enableColumnHeader:!0,enableColumnInteractionBar:!1,enableFocusedCell:!1,enableGhostCells:!1,enableMultipleSelection:!0,enableRowHeader:!0,forceRerenderOnSelectionChange:!1,getCellClipboardData:function(e,t,n){return Rn()(null==n?void 0:n(e,t))},loadingOptions:[],maxColumnWidth:9999,maxRowHeight:9999,minColumnWidth:50,minRowHeight:20,numFrozenColumns:0,numFrozenRows:0,numRows:0,renderMode:Lt.BATCH_ON_UPDATE,rowHeaderCellRenderer:mn,selectionModes:Ct.ALL},t.childContextTypes=rn,t.SHALLOW_COMPARE_PROP_KEYS_DENYLIST=["selectedRegions"],t.SHALLOW_COMPARE_STATE_KEYS_DENYLIST=["selectedRegions","viewportRect"],n=(0,S.__decorate)([I.HotkeysTarget],t)}(I.AbstractComponent2);function to(e,t,n){void 0===n&&(n=e.selectionModes);var o=e.children,r=e.numRows,l=L.Children.count(o);return n.indexOf(t)>=0&&r>0&&l>0}function no(e,t){var n=e.getCellClipboardData,o=e.enableFocusedCell,r=e.enableMultipleSelection,l=e.selectionModes,i=[];null!=n&&i.push({combo:"mod+c",group:"Table",label:"Copy selected table cells",onKeyDown:t.handleCopy});var a=l.length>0;return r&&a&&i.push({combo:"shift+up",group:"Table",label:"Resize selection upward",onKeyDown:t.handleSelectionResizeUp},{combo:"shift+down",group:"Table",label:"Resize selection downward",onKeyDown:t.handleSelectionResizeDown},{combo:"shift+left",group:"Table",label:"Resize selection leftward",onKeyDown:t.handleSelectionResizeLeft},{combo:"shift+right",group:"Table",label:"Resize selection rightward",onKeyDown:t.handleSelectionResizeRight}),null!=o&&i.push({combo:"left",group:"Table",label:"Move focus cell left",onKeyDown:t.handleFocusMoveLeft},{combo:"right",group:"Table",label:"Move focus cell right",onKeyDown:t.handleFocusMoveRight},{combo:"up",group:"Table",label:"Move focus cell up",onKeyDown:t.handleFocusMoveUp},{combo:"down",group:"Table",label:"Move focus cell down",onKeyDown:t.handleFocusMoveDown},{allowInInput:!0,combo:"tab",group:"Table",label:"Move focus cell tab",onKeyDown:t.handleFocusMoveRightInternal},{allowInInput:!0,combo:"shift+tab",group:"Table",label:"Move focus cell shift tab",onKeyDown:t.handleFocusMoveLeftInternal},{allowInInput:!0,combo:"enter",group:"Table",label:"Move focus cell enter",onKeyDown:t.handleFocusMoveDownInternal},{allowInInput:!0,combo:"shift+enter",group:"Table",label:"Move focus cell shift enter",onKeyDown:t.handleFocusMoveUpInternal}),to(e,dt.FULL_TABLE)&&i.push({combo:"mod+a",group:"Table",label:"Select all",onKeyDown:t.handleSelectAllHotkey}),i}function oo(e,t){return e.length===t.length&&e.every((function(e,n){return e.key===t[n].key}))}var ro=function(e){function t(n,o){var r=e.call(this,n,o)||this;r.hotkeys=[],r.grid=null,r.refHandlers={cellContainer:function(e){return r.cellContainerElement=e},columnHeader:function(e){r.columnHeaderElement=e,null!=e&&(r.columnHeaderHeight=Math.max(e.clientHeight,Et.MIN_COLUMN_HEADER_HEIGHT))},quadrantStack:function(e){return r.quadrantStackInstance=e},rootTable:function(e){return r.rootTableElement=e},rowHeader:function(e){r.rowHeaderElement=e,null!=e&&(r.rowHeaderWidth=e.clientWidth)},scrollContainer:function(e){return r.scrollContainerElement=e}},r.columnHeaderHeight=Et.MIN_COLUMN_HEADER_HEIGHT,r.rowHeaderWidth=Et.MIN_ROW_HEADER_WIDTH,r.didColumnHeaderMount=!1,r.didRowHeaderMount=!1,r.didCompletelyMount=!1,r.renderTableContents=function(e){var t,n=e.handleKeyDown,o=e.handleKeyUp,l=r.props,i=l.children,a=l.className,s=l.enableRowHeader,d=l.loadingOptions,u=l.numRows,c=l.enableColumnInteractionBar,h=l.enableColumnHeader,p=r.state,f=p.horizontalGuides,g=p.numFrozenColumnsClamped,m=p.numFrozenRowsClamped,v=p.verticalGuides;r.gridDimensionsMatchProps()||r.invalidateGrid();var C=r.validateGrid(),R=H()(V,((t={})[xe]=r.state.isReordering,t[ue]=r.shouldDisableVerticalScroll(),t[se]=r.shouldDisableHorizontalScroll(),t[Ge]=to(r.props,dt.CELLS),t[de]=0===u,t),a);return L.createElement("div",{className:R,ref:r.refHandlers.rootTable,onScroll:r.handleRootScroll,onKeyDown:n,onKeyUp:o,tabIndex:0},L.createElement(Mn,{bodyRef:r.refHandlers.cellContainer,bodyRenderer:r.renderBody,columnHeaderRenderer:r.renderColumnHeader,columnHeaderRef:r.refHandlers.columnHeader,didHeadersMount:r.state.didHeadersMount,enableColumnInteractionBar:c,enableRowHeader:s,grid:C,handleColumnResizeGuide:r.handleColumnResizeGuide,handleColumnsReordering:r.handleColumnsReordering,handleRowResizeGuide:r.handleRowResizeGuide,handleRowsReordering:r.handleRowsReordering,isHorizontalScrollDisabled:r.shouldDisableHorizontalScroll(),isVerticalScrollDisabled:r.shouldDisableVerticalScroll(),loadingOptions:d,numColumns:L.Children.count(i),numFrozenColumns:g,numFrozenRows:m,numRows:u,onScroll:r.handleBodyScroll,ref:r.refHandlers.quadrantStack,menuRenderer:r.renderMenu,rowHeaderRenderer:r.renderRowHeader,rowHeaderRef:r.refHandlers.rowHeader,scrollContainerRef:r.refHandlers.scrollContainer,enableColumnHeader:h}),L.createElement("div",{className:H()(fe,ge)}),L.createElement(Hn,{className:_e,verticalGuides:v,horizontalGuides:f}))},r.renderMenu=function(e){var t,n=H()(ae,((t={})[Ge]=to(r.props,dt.FULL_TABLE),t));return L.createElement("div",{className:n,ref:e,onMouseDown:r.handleMenuMouseDown},r.maybeRenderRegions(r.styleMenuRegion))},r.handleMenuMouseDown=function(e){r.selectAll(!e.shiftKey)},r.selectAll=function(e){if(r.getEnabledSelectionHandler(dt.FULL_TABLE)([Rt.table()]),e){var t=Rt.getFocusCellCoordinatesFromRegion(Rt.table());r.handleFocus(tn(t))}},r.columnHeaderCellRenderer=function(e){var t,n=r.getColumnProps(e);if(void 0===n)return null;n.id,n.cellRenderer;var o=n.columnHeaderCellRenderer,l=(0,S.__rest)(n,["id","cellRenderer","columnHeaderCellRenderer"]),i=$n(n.loadingOptions,gt.HEADER)||$n(r.props.loadingOptions,vt.COLUMN_HEADERS);if(null!=o){var a=o(e);if(null!=a)return L.cloneElement(a,{loading:null!==(t=a.props.loading)&&void 0!==t?t:i})}var s=(0,S.__assign)({index:e,loading:i},l);return null!=n.name?L.createElement(sn,(0,S.__assign)({},s)):L.createElement(sn,(0,S.__assign)({},s,{name:ft.toBase26Alpha(e)}))},r.renderColumnHeader=function(e,t,n,o){var l;void 0===o&&(o=!1);var i=r.state,a=i.focusedCell,s=i.selectedRegions,d=i.viewportRect,u=r.props,c=u.defaultColumnWidth,h=u.enableMultipleSelection,p=u.enableGhostCells,f=u.enableColumnReordering,g=u.enableColumnResizing,m=u.enableRowHeader,v=u.loadingOptions,C=u.maxColumnWidth,R=u.minColumnWidth,y=u.selectedRegionTransform,w=H()(k,((l={})[Ge]=to(r.props,dt.FULL_COLUMNS),l));if(null===r.grid||void 0===r.locator||void 0===d)return L.createElement("div",{className:w,ref:e});var b=r.locator.hasHorizontalOverflow(m?r.rowHeaderWidth:0,d),S=r.grid.getColumnIndicesInRect(d,!b&&p),E=o?0:S.columnIndexStart,I=o?r.getMaxFrozenColumnIndex():S.columnIndexEnd;return L.createElement("div",{className:w,ref:e},L.createElement(pn,{defaultColumnWidth:c,enableMultipleSelection:h,cellRenderer:r.columnHeaderCellRenderer,focusedCell:a,grid:r.grid,isReorderable:f,isResizable:g,loading:$n(v,vt.COLUMN_HEADERS),locator:r.locator,maxColumnWidth:C,minColumnWidth:R,onColumnWidthChanged:r.handleColumnWidthChanged,onFocusedCell:r.handleFocus,onMount:r.handleHeaderMounted,onLayoutLock:r.handleLayoutLock,onReordered:r.handleColumnsReordered,onReordering:n,onResizeGuide:t,onSelection:r.getEnabledSelectionHandler(dt.FULL_COLUMNS),selectedRegions:s,selectedRegionTransform:y,columnIndexStart:E,columnIndexEnd:I},r.props.children),r.maybeRenderRegions(r.styleColumnHeaderRegion))},r.renderRowHeader=function(e,t,n,o){var l;void 0===o&&(o=!1);var i=r.state,a=i.focusedCell,s=i.selectedRegions,d=i.viewportRect,u=r.props,c=u.defaultRowHeight,h=u.enableColumnHeader,p=u.enableMultipleSelection,f=u.enableGhostCells,g=u.enableRowReordering,m=u.enableRowResizing,v=u.loadingOptions,C=u.maxRowHeight,R=u.minRowHeight,y=u.rowHeaderCellRenderer,w=u.selectedRegionTransform,b=H()(Pe,((l={})[Ge]=to(r.props,dt.FULL_ROWS),l));if(null===r.grid||void 0===r.locator||void 0===d)return L.createElement("div",{className:b,ref:e});var S=r.locator.hasVerticalOverflow(h?r.columnHeaderHeight:0,d),E=r.grid.getRowIndicesInRect({includeGhostCells:!S&&f,rect:d}),I=o?0:E.rowIndexStart,T=o?r.getMaxFrozenRowIndex():E.rowIndexEnd;return L.createElement("div",{className:b,ref:e},L.createElement(gn,{defaultRowHeight:c,enableMultipleSelection:p,focusedCell:a,grid:r.grid,locator:r.locator,isReorderable:g,isResizable:m,loading:$n(v,vt.ROW_HEADERS),maxRowHeight:C,minRowHeight:R,onFocusedCell:r.handleFocus,onLayoutLock:r.handleLayoutLock,onMount:r.handleHeaderMounted,onResizeGuide:t,onReordered:r.handleRowsReordered,onReordering:n,onRowHeightChanged:r.handleRowHeightChanged,onSelection:r.getEnabledSelectionHandler(dt.FULL_ROWS),rowHeaderCellRenderer:y,selectedRegions:s,selectedRegionTransform:w,rowIndexStart:I,rowIndexEnd:T}),r.maybeRenderRegions(r.styleRowHeaderRegion))},r.bodyCellRenderer=function(e,t){var n,o=r.getColumnProps(t);if(void 0!==o){o.id;var l=o.cellRenderer,i=(o.columnHeaderCellRenderer,o.name,o.nameRenderer,(0,S.__rest)(o,["id","cellRenderer","columnHeaderCellRenderer","name","nameRenderer"])),a=l(e,t);if(void 0!==a){var s=$n(o.loadingOptions,gt.CELLS)||$n(r.props.loadingOptions,vt.CELLS);return L.cloneElement(a,(0,S.__assign)((0,S.__assign)({},i),{loading:null!==(n=a.props.loading)&&void 0!==n?n:s}))}}},r.renderBody=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var o=r.state,l=o.focusedCell,i=o.numFrozenColumnsClamped,a=o.numFrozenRowsClamped,s=o.selectedRegions,d=o.viewportRect,u=r.props,c=u.enableMultipleSelection,h=u.enableColumnHeader,p=u.enableGhostCells,f=u.enableRowHeader,g=u.loadingOptions,m=u.bodyContextMenuRenderer,v=u.selectedRegionTransform;if(null!==r.grid&&void 0!==r.locator&&void 0!==d){var C=r.locator.hasVerticalOverflow(h?r.columnHeaderHeight:0,d),R=r.locator.hasHorizontalOverflow(f?r.rowHeaderWidth:0,d),y=r.grid.getRowIndicesInRect({includeGhostCells:!C&&p,rect:d}),w=r.grid.getColumnIndicesInRect(d,!R&&p),b=n?0:w.columnIndexStart+i,S=t?0:y.rowIndexStart+a,E=n?i-1:w.columnIndexEnd,H=t?a-1:y.rowIndexEnd,I=e===Sn.MAIN?r.handleCompleteRender:void 0;return L.createElement("div",null,L.createElement(jn,{enableMultipleSelection:c,cellRenderer:r.bodyCellRenderer,focusedCell:l,grid:r.grid,loading:$n(g,vt.CELLS),locator:r.locator,onCompleteRender:I,onFocusedCell:r.handleFocus,onSelection:r.getEnabledSelectionHandler(dt.CELLS),bodyContextMenuRenderer:m,renderMode:r.getNormalizedRenderMode(),selectedRegions:s,selectedRegionTransform:v,viewportRect:d,columnIndexStart:b,columnIndexEnd:E,rowIndexStart:S,rowIndexEnd:H,numFrozenColumns:n?i:void 0,numFrozenRows:t?a:void 0}),r.maybeRenderRegions(r.styleBodyRegion,e))}},r.getEnabledSelectionHandler=function(e){return to(r.props,e)?r.handleSelection:r.clearSelection},r.handleHeaderMounted=function(e){r.state.didHeadersMount||("column"===e?r.didColumnHeaderMount=!0:r.didRowHeaderMount=!0,r.didColumnHeaderMount&&r.didRowHeaderMount&&r.setState({didHeadersMount:!0}))},r.handleCompleteRender=function(){var e,t,n=r.didColumnHeaderMount&&r.didRowHeaderMount;null!=r.state.viewportRect&&n&&(null===(t=(e=r.props).onCompleteRender)||void 0===t||t.call(e),r.didCompletelyMount=!0)},r.styleBodyRegion=function(e,t){var n=r.props.numFrozenColumns;if(null==r.grid)return{};var o=Rt.getRegionCardinality(e),l=r.grid.getRegionStyle(e),i=(t===Sn.TOP_LEFT||t===Sn.LEFT)&&null!=n&&n>0,a=r.grid.getHeight(),s=r.grid.getWidth(),d="-".concat(1,"px");switch(o){case dt.CELLS:return l;case dt.FULL_COLUMNS:return l.top=d,l.height=a+1,l;case dt.FULL_ROWS:return l.left=d,l.width=s+1,i&&(l.right=d),l;case dt.FULL_TABLE:return l.left=d,l.top=d,l.width=s+1,l.height=a+1,i&&(l.right=d),l;default:return{display:"none"}}},r.styleMenuRegion=function(e){var t=r.state.viewportRect;if(null==r.grid||null==t)return{};var n=Rt.getRegionCardinality(e),o=r.grid.getRegionStyle(e);return n===dt.FULL_TABLE?(o.right="0px",o.bottom="0px",o.top="0px",o.left="0px",o.borderBottom="none",o.borderRight="none",o):{display:"none"}},r.styleColumnHeaderRegion=function(e){var t=r.state.viewportRect;if(null==r.grid||null==t)return{};var n=Rt.getRegionCardinality(e),o=r.grid.getRegionStyle(e);switch(n){case dt.FULL_TABLE:return o.left="-1px",o.borderLeft="none",o.bottom="-1px",o;case dt.FULL_COLUMNS:return o.bottom="-1px",o;default:return{display:"none"}}},r.styleRowHeaderRegion=function(e){var t=r.state.viewportRect;if(null==r.grid||null==t)return{};var n=Rt.getRegionCardinality(e),o=r.grid.getRegionStyle(e);switch(n){case dt.FULL_TABLE:return o.top="-1px",o.borderTop="none",o.right="-1px",o;case dt.FULL_ROWS:return o.right="-1px",o;default:return{display:"none"}}},r.handleColumnWidthChanged=function(e,t){var n,o,l=r.state.selectedRegions,i=r.state.columnWidths.slice();if(Rt.hasFullTable(l))for(var a=0;a<i.length;a++)i[a]=t;Rt.hasFullColumn(l,e)?Rt.eachUniqueFullColumn(l,(function(e){i[e]=t})):i[e]=t,r.validateGrid({columnWidths:i}),r.setState({columnWidths:i}),null===(o=(n=r.props).onColumnWidthChanged)||void 0===o||o.call(n,e,t)},r.handleRowHeightChanged=function(e,t){var n,o,l=r.state.selectedRegions,i=r.state.rowHeights.slice();if(Rt.hasFullTable(l))for(var a=0;a<i.length;a++)i[a]=t;Rt.hasFullRow(l,e)?Rt.eachUniqueFullRow(l,(function(e){i[e]=t})):i[e]=t,r.validateGrid({rowHeights:i}),r.setState({rowHeights:i}),null===(o=(n=r.props).onRowHeightChanged)||void 0===o||o.call(n,e,t)},r.handleRootScroll=function(e){null!=r.rootTableElement&&(r.rootTableElement.scrollLeft=0,r.rootTableElement.scrollTop=0)},r.handleBodyScroll=function(e){if(e.stopPropagation(),null!=r.locator&&!r.state.isLayoutLocked){var t=r.locator.getViewportRect();r.updateViewportRect(t)}},r.clearSelection=function(e){r.handleSelection([])},r.syncViewportPosition=function(e){var t=e.nextScrollLeft,n=e.nextScrollTop,o=r.state.viewportRect;if(null!=r.scrollContainerElement&&null!=r.columnHeaderElement&&void 0!==o&&(void 0!==t||void 0!==n)){if(void 0!==n){var l=r.shouldDisableVerticalScroll()?0:r.columnHeaderElement.clientHeight;r.scrollContainerElement.scrollTop=n+l}if(void 0!==t){var i=r.shouldDisableHorizontalScroll()||null==r.rowHeaderElement?0:r.rowHeaderElement.clientWidth;r.scrollContainerElement.scrollLeft=t+i}var a=new St(null!=t?t:0,null!=n?n:0,o.width,o.height);r.updateViewportRect(a)}},r.handleFocus=function(e){var t,n;r.props.enableFocusedCell&&(null==r.props.focusedCell&&r.setState({focusedCell:e}),null===(n=(t=r.props).onFocusedCell)||void 0===n||n.call(t,e))},r.handleSelection=function(e){null==r.props.selectedRegions&&r.setState({selectedRegions:e});var t=r.props.onSelection;null!=t&&t(e)},r.handleColumnsReordering=function(e){r.setState({isReordering:!0,verticalGuides:e})},r.handleColumnsReordered=function(e,t,n){var o,l;r.setState({isReordering:!1,verticalGuides:[]}),null===(l=(o=r.props).onColumnsReordered)||void 0===l||l.call(o,e,t,n)},r.handleRowsReordering=function(e){r.setState({isReordering:!0,horizontalGuides:e})},r.handleRowsReordered=function(e,t,n){var o,l;r.setState({isReordering:!1,horizontalGuides:[]}),null===(l=(o=r.props).onRowsReordered)||void 0===l||l.call(o,e,t,n)},r.handleLayoutLock=function(e){void 0===e&&(e=!1),r.setState({isLayoutLocked:e})},r.updateViewportRect=function(e){if(void 0!==e){var t=r.state.viewportRect;r.setState({viewportRect:e}),(null!=t&&!t.equals(e)||null==t&&null!=e)&&r.invokeOnVisibleCellsChangeCallback(e)}},r.getMaxFrozenColumnIndex=function(){return r.state.numFrozenColumnsClamped-1},r.getMaxFrozenRowIndex=function(){return r.state.numFrozenRowsClamped-1},r.handleColumnResizeGuide=function(e){r.setState({verticalGuides:e})},r.handleRowResizeGuide=function(e){r.setState({horizontalGuides:e})};var l=n.children,i=n.columnWidths,a=n.defaultRowHeight,s=n.defaultColumnWidth,d=n.enableRowHeader,u=n.numRows,c=n.rowHeights,h=n.selectedRegions,p=void 0===h?[]:h,f=n.enableColumnHeader,g=L.Children.toArray(l),m=t.createColumnIdIndex(g),v=g.map((function(){return s}));void 0!==i&&(v=ft.assignSparseValues(v,i));var C=ft.times(u,(function(){return a}));void 0!==c&&(C=ft.assignSparseValues(C,c));var R=en(n.enableFocusedCell,n.focusedCell,void 0,p);return r.state={childrenArray:g,columnIdToIndex:m,columnWidths:v,didHeadersMount:!1,focusedCell:R,horizontalGuides:[],isLayoutLocked:!1,isReordering:!1,numFrozenColumnsClamped:Xn(n),numFrozenRowsClamped:Zn(n),rowHeights:C,selectedRegions:p,verticalGuides:[]},r.hotkeysImpl=new Yn(n,r.state,{getEnabledSelectionHandler:r.getEnabledSelectionHandler,handleFocus:r.handleFocus,handleSelection:r.handleSelection,syncViewportPosition:r.syncViewportPosition}),r.hotkeys=no(n,r.hotkeysImpl),!1===d&&(r.didRowHeaderMount=!0),!1===f&&(r.didColumnHeaderMount=!0),r}return(0,S.__extends)(t,e),t.getDerivedStateFromProps=function(e,n){var o=e.children,r=e.defaultColumnWidth,l=e.defaultRowHeight,i=e.enableFocusedCell,a=e.focusedCell,s=e.numRows,d=e.selectedRegions,u=e.selectionModes,c=e.columnWidths,h=e.rowHeights;null==c&&(c=n.columnWidths),null==h&&(h=n.rowHeights);var p=L.Children.toArray(o),f=!oo(p,n.childrenArray),g=p.length,m=c;if(c!==n.columnWidths||f){var v=p.map((function(e,t){var o=void 0===e.props.id?void 0:n.columnIdToIndex[e.props.id];return n.columnWidths[null!=o?o:t]}));m=Array(g).fill(r),m=ft.assignSparseValues(m,v),m=ft.assignSparseValues(m,c)}var C=h;h===n.rowHeights&&s===n.rowHeights.length||(C=Array(s).fill(l),C=ft.assignSparseValues(C,h));var R=null!=d?d:n.selectedRegions.filter((function(t){var n=Rt.getRegionCardinality(t);return to(e,n,u)&&Rt.isRegionValidForTable(t,s,g)})),y=en(i,a,n.focusedCell,R),w={childrenArray:p,columnIdToIndex:f?t.createColumnIdIndex(p):n.columnIdToIndex,columnWidths:m,focusedCell:y,numFrozenColumnsClamped:Xn(e),numFrozenRowsClamped:Zn(e),rowHeights:C,selectedRegions:R};return I.Utils.deepCompareKeys(n,w,t.SHALLOW_COMPARE_STATE_KEYS_DENYLIST)?null:w},t.createColumnIdIndex=function(e){for(var t={},n=0;n<e.length;n++){var o=e[n].props.id;null!=o&&(t[String(o)]=n)}return t},t.prototype.resizeRowsByApproximateHeight=function(e,t){var n=On(this.props.numRows,this.state.columnWidths,e,t);this.invalidateGrid(),this.setState({rowHeights:n})},t.prototype.resizeRowsByTallestCell=function(e){if(null!=this.grid&&void 0!==this.state.viewportRect&&void 0!==this.locator){var t=An(this.grid,this.state.viewportRect,this.locator,this.state.rowHeights.length,e);this.invalidateGrid(),this.setState({rowHeights:t})}else console.warn(Yt)},t.prototype.scrollToRegion=function(e){var t=this.state,n=t.numFrozenColumnsClamped,o=t.numFrozenRowsClamped,r=t.viewportRect;if(void 0!==r&&null!==this.grid&&void 0!==this.quadrantStackInstance){var l=yn(e,r.left,r.top,this.grid.getCumulativeWidthBefore,this.grid.getCumulativeHeightBefore,o,n),i=l.scrollLeft,a=l.scrollTop,s=this.shouldDisableHorizontalScroll()?0:i,d=this.shouldDisableVerticalScroll()?0:a;this.quadrantStackInstance.scrollToPosition(s,d)}},t.prototype.getChildContext=function(){return{enableColumnInteractionBar:this.props.enableColumnInteractionBar}},t.prototype.shouldComponentUpdate=function(e,n){var o={exclude:t.SHALLOW_COMPARE_PROP_KEYS_DENYLIST},r={exclude:t.SHALLOW_COMPARE_STATE_KEYS_DENYLIST};return!(I.Utils.shallowCompareKeys(this.props,e,o)&&I.Utils.shallowCompareKeys(this.state,n,r)&&I.Utils.deepCompareKeys(this.props,e,t.SHALLOW_COMPARE_PROP_KEYS_DENYLIST)&&I.Utils.deepCompareKeys(this.state,n,t.SHALLOW_COMPARE_STATE_KEYS_DENYLIST))},t.prototype.render=function(){return L.createElement(I.HotkeysTarget2,{hotkeys:this.hotkeys},this.renderTableContents)},t.prototype.componentDidMount=function(){var e=this;this.validateGrid(),null!=this.rootTableElement&&null!=this.scrollContainerElement&&null!=this.cellContainerElement&&(this.locator=new Ht(this.rootTableElement,this.scrollContainerElement,this.cellContainerElement),this.updateLocator(),this.updateViewportRect(this.locator.getViewportRect()),this.resizeSensorDetach=En.attach(this.rootTableElement,(function(){var t;e.state.isLayoutLocked||e.updateViewportRect(null===(t=e.locator)||void 0===t?void 0:t.getViewportRect())})),this.forceUpdate())},t.prototype.componentWillUnmount=function(){null!=this.resizeSensorDetach&&(this.resizeSensorDetach(),delete this.resizeSensorDetach),this.didCompletelyMount=!1},t.prototype.componentDidUpdate=function(t,n){var o,r;e.prototype.componentDidUpdate.call(this,t,n),this.hotkeysImpl.setState(this.state),this.hotkeysImpl.setProps(this.props);var l=!oo(L.Children.toArray(this.props.children),this.state.childrenArray);void 0!==this.props.cellRendererDependencies&&void 0===t.cellRendererDependencies&&console.error(Xt);var i=void 0!==this.props.cellRendererDependencies&&this.props.cellRendererDependencies.some((function(e,n){var o;return e!==(null!==(o=t.cellRendererDependencies)&&void 0!==o?o:[])[n]})),a=!ft.compareSparseArrays(null!==(o=this.props.columnWidths)&&void 0!==o?o:this.state.columnWidths,n.columnWidths),s=!ft.compareSparseArrays(null!==(r=this.props.rowHeights)&&void 0!==r?r:this.state.rowHeights,n.rowHeights);(l||i||a||s||this.props.numRows!==t.numRows||this.props.forceRerenderOnSelectionChange&&this.props.selectedRegions!==t.selectedRegions)&&this.invalidateGrid(),null!=this.locator&&(this.validateGrid(),this.updateLocator()),(this.props.getCellClipboardData!==t.getCellClipboardData||this.props.enableFocusedCell!==t.enableFocusedCell||this.props.enableMultipleSelection!==t.enableMultipleSelection||this.props.selectionModes!==t.selectionModes)&&(this.hotkeys=no(this.props,this.hotkeysImpl)),i&&this.forceUpdate()},t.prototype.validateProps=function(e){var t=e.children,n=e.columnWidths,o=e.numFrozenColumns,r=e.numFrozenRows,l=e.numRows,i=e.rowHeights,a=L.Children.count(t);if(null!=l&&l<0)throw new Error(Qt);if(null!=r&&r<0)throw new Error(qt);if(null!=o&&o<0)throw new Error(Vt);if(null!=l&&null!=i&&i.length!==l)throw new Error(Kt);if(null!=a&&null!=n&&n.length!==a)throw new Error(jt);L.Children.forEach(t,(function(e){if(!I.Utils.isElementOfType(e,Nt))throw new Error(Wt)})),null!=r&&null!=l&&r>l&&console.warn(Bt),null!=o&&o>a&&console.warn(Gt)},t.prototype.gridDimensionsMatchProps=function(){var e=this.props,t=e.children,n=e.numRows;return null!=this.grid&&this.grid.numCols===L.Children.count(t)&&this.grid.numRows===n},t.prototype.shouldDisableVerticalScroll=function(){var e=this.props,t=e.enableColumnHeader,n=e.enableGhostCells,o=this.state.viewportRect;if(null===this.grid||void 0===o)return!1;var r=this.grid.getRowIndicesInRect({columnHeaderHeight:t?this.columnHeaderHeight:0,includeGhostCells:n,rect:o}),l=null!=o&&0===o.top,i=$n(this.props.loadingOptions,vt.ROW_HEADERS);return n&&this.grid.isGhostIndex(r.rowIndexEnd,0)&&(l||i)},t.prototype.shouldDisableHorizontalScroll=function(){var e=this.props.enableGhostCells,t=this.state.viewportRect;if(null===this.grid||void 0===t)return!1;var n=this.grid.getColumnIndicesInRect(t,e),o=null!=t&&0===t.left,r=$n(this.props.loadingOptions,vt.COLUMN_HEADERS);return e&&this.grid.isGhostColumn(n.columnIndexEnd)&&(o||r)},t.prototype.getColumnProps=function(e){var t=this.state.childrenArray[e];return void 0===t?void 0:t.props},t.prototype.isGuideLayerShowing=function(){return this.state.verticalGuides.length>0||this.state.horizontalGuides.length>0},t.prototype.invalidateGrid=function(){this.grid=null},t.prototype.validateGrid=function(e){var t=void 0===e?{}:e,n=t.columnWidths,o=t.rowHeights;if(null==this.grid||void 0!==n||void 0!==o){var r=this.props,l=r.defaultRowHeight,i=r.defaultColumnWidth,a=r.numFrozenColumns,s=Math.max(Et.DEFAULT_BLEED,a);this.grid=new Et(null!=o?o:this.state.rowHeights,null!=n?n:this.state.columnWidths,s,l,i),this.invokeOnVisibleCellsChangeCallback(this.state.viewportRect),this.hotkeysImpl.setGrid(this.grid)}return this.grid},t.prototype.maybeRenderRegions=function(e,t){var n;if(!this.isGuideLayerShowing()||this.state.isReordering)return Rt.joinStyledRegionGroups(this.state.selectedRegions,null!==(n=this.props.styledRegionGroups)&&void 0!==n?n:[],this.state.focusedCell).map((function(n,o){var r=n.regions.map((function(n){return e(n,t)}));return L.createElement(In,{className:H()(n.className),key:o,regions:n.regions,regionStyles:r})}))},t.prototype.updateLocator=function(){void 0!==this.locator&&null!=this.grid&&this.locator.setGrid(this.grid).setNumFrozenRows(this.state.numFrozenRowsClamped).setNumFrozenColumns(this.state.numFrozenColumnsClamped)},t.prototype.invokeOnVisibleCellsChangeCallback=function(e){var t,n;if(null!=this.grid){var o=this.grid.getColumnIndicesInRect(e),r=this.grid.getRowIndicesInRect({rect:e});null===(n=(t=this.props).onVisibleCellsChange)||void 0===n||n.call(t,r,o)}},t.prototype.getNormalizedRenderMode=function(){var e=this.props.renderMode;return e===Lt.BATCH||e===Lt.BATCH_ON_UPDATE&&this.didCompletelyMount?Lt.BATCH:Lt.NONE},t.displayName="".concat(I.DISPLAYNAME_PREFIX,".Table2"),t.defaultProps={defaultColumnWidth:150,defaultRowHeight:20,enableColumnHeader:!0,enableColumnInteractionBar:!1,enableFocusedCell:!1,enableGhostCells:!1,enableMultipleSelection:!0,enableRowHeader:!0,forceRerenderOnSelectionChange:!1,getCellClipboardData:function(e,t,n){return Rn()(n(e,t))},loadingOptions:[],maxColumnWidth:9999,maxRowHeight:9999,minColumnWidth:50,minRowHeight:20,numFrozenColumns:0,numFrozenRows:0,numRows:0,renderMode:Lt.BATCH_ON_UPDATE,rowHeaderCellRenderer:mn,selectionModes:Ct.ALL},t.childContextTypes=rn,t.SHALLOW_COMPARE_PROP_KEYS_DENYLIST=["selectedRegions"],t.SHALLOW_COMPARE_STATE_KEYS_DENYLIST=["selectedRegions","viewportRect"],t}(I.AbstractComponent2)}(),s}()}));